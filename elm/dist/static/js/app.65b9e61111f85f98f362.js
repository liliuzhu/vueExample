webpackJsonp([1],{"/TN/":function(t,s){},"/da7":function(t,s){},"2+05":function(t,s){},"4QCu":function(t,s){},"4ixO":function(t,s){},"5Nt9":function(t,s){},"8KUF":function(t,s){},"8S93":function(t,s){},AOSJ:function(t,s){},Ch8W:function(t,s){},"FlY/":function(t,s){},H9qW:function(t,s){},"HL+C":function(t,s){},JGbu:function(t,s){},JN5u:function(t,s){},KJ4V:function(t,s){},NHnr:function(t,s,e){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:130,i=t,a=e,o=arguments[3]||e,n="jpeg"===t.slice(-4)?t.slice(-4):t.slice(-3);return t?s?"https://fuss10.elemecdn.com/"+i.substr(0,1)+"/"+i.substr(1,2)+"/"+i.slice(3)+"."+n+"?imageMogr/thumbnail/!"+a+"x"+o+"r/gravity/Center/crop/"+a+"x"+o+"/":"https://fuss10.elemecdn.com/"+i.substr(0,1)+"/"+i.substr(1,2)+"/"+i.slice(3)+"."+n:""}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(s?window.location.replace(t):window.open(t,"_self"))}Object.defineProperty(s,"__esModule",{value:!0});var o=e("7+uW"),n=e("mtWM"),r=e.n(n),c=e("Dd8w"),l=e.n(c),d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",{staticClass:"footer-tabbar"},[e("mt-tabbar",{attrs:{fixed:!0},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[e("mt-tab-item",{attrs:{id:"/msite"}},[e("span",{staticClass:"tabbar-icon msite",attrs:{slot:"icon"},slot:"icon"}),t._v("\n            外卖\n        ")]),t._v(" "),e("mt-tab-item",{attrs:{id:"/discover"}},[e("span",{staticClass:"tabbar-icon discover",attrs:{slot:"icon"},slot:"icon"}),t._v("\n            发现\n        ")]),t._v(" "),e("mt-tab-item",{attrs:{id:"/order"}},[e("span",{staticClass:"tabbar-icon order",attrs:{slot:"icon"},slot:"icon"}),t._v("\n            订单\n        ")]),t._v(" "),e("mt-tab-item",{attrs:{id:"/profile"}},[e("span",{staticClass:"tabbar-icon profile",attrs:{slot:"icon"},slot:"icon"}),t._v("\n            我的\n        ")])],1)],1)},staticRenderFns:[]},h=e("VU/8")({name:"footerTabbar",data:function(){return{selected:this.$route.path||"/msite"}},methods:{},watch:{$route:function(t,s){this.selected=t.path},selected:function(t,s){if(t===this.$route.path)return!1;this.$router.push(t)}}},d,!1,function(t){e("xCHz"),e("YwD4")},"data-v-6b6125bd",null).exports,u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("svg",{staticStyle:{position:"absolute",width:"0",height:"0"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("defs",[e("symbol",{attrs:{viewBox:"0 0 60 10",id:"star-actived.d4c54d1"}},[e("defs",[e("linearGradient",{attrs:{id:"star-actived.d4c54d1_a",x1:"0%",y1:"50%",y2:"50%"}},[e("stop",{attrs:{offset:"0%","stop-color":"#FFDE00"}}),t._v(" "),e("stop",{attrs:{offset:"100%","stop-color":"#FFB000"}})],1)],1),t._v(" "),e("path",{attrs:{fill:"url(#star-actived.d4c54d1_a)","fill-rule":"evenodd",d:"M54.017 8.072l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L53.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm-48 0L3.465 9.633c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L5.63.589c.213-.515.557-.523.774 0L7.55 3.352l2.982.237c.556.044.67.368.24.736L8.497 6.269l.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L17.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L29.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L41.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 60 10",id:"star-gray.cc081b9"}},[e("path",{attrs:{fill:"#EEE","fill-rule":"evenodd",d:"M54.017 8.072l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L53.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm-48 0L3.465 9.633c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L5.63.589c.213-.515.557-.523.774 0L7.55 3.352l2.982.237c.556.044.67.368.24.736L8.497 6.269l.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L17.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L29.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L41.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 280 1",id:"dashed-line.3732003"}},[e("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#CCC","stroke-dasharray":"1","stroke-width":".5",d:"M0 .25L280 0"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 12 6",id:"activity-more.c46fec1"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M4.577 5.423c.79.77 2.073.767 2.857 0l4.12-4.026C12.345.625 12.09 0 10.985 0H1.027C-.077 0-.33.63.457 1.397l4.12 4.026z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 138 128",id:"back-top.f9a58c0"}},[e("g",{attrs:{fill:"#757575","fill-rule":"evenodd",transform:"translate(18 11)"}},[e("rect",{attrs:{width:"98.522",height:"8.917",x:"2.239",rx:"4.458"}}),t._v(" "),e("rect",{attrs:{width:"89.565",height:"8.917",x:"6.717",y:"57.958",rx:"4.458",transform:"rotate(90 51.5 62.417)"}}),t._v(" "),e("rect",{attrs:{width:"71.652",height:"8.917",x:"-6.671",y:"40.171",rx:"4.458",transform:"scale(-1 1) rotate(45 0 -25.757)"}}),t._v(" "),e("rect",{attrs:{width:"71.652",height:"8.917",x:"38.112",y:"40.171",rx:"4.458",transform:"rotate(45 73.938 44.63)"}})])]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 64 64",id:"loading.001898b"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M60 36h-8c-2.203 0-4-1.797-4-4 0-2.208 1.797-4 4-4h8c2.203 0 4 1.792 4 4 0 2.203-1.797 4-4 4zM48.973 20.686a4 4 0 0 1-5.66 0 3.995 3.995 0 0 1 0-5.655l5.66-5.653a3.99 3.99 0 0 1 5.65 0 4 4 0 0 1 0 5.655l-5.65 5.656zM32 64a4 4 0 0 1-4-4v-8a4 4 0 0 1 4-4c2.203 0 4 1.797 4 4v8c0 2.203-1.797 4-4 4zm0-48a4 4 0 0 1-4-4V4a4 4 0 1 1 8 0v8c0 2.208-1.797 4-4 4zM15.03 54.624a3.995 3.995 0 0 1-5.654 0 3.99 3.99 0 0 1 0-5.65l5.655-5.66a3.995 3.995 0 0 1 5.657 0 4.004 4.004 0 0 1 0 5.66l-5.655 5.65zm0-33.938L9.373 15.03a3.995 3.995 0 0 1 0-5.654 4 4 0 0 1 5.654 0l5.655 5.655a3.995 3.995 0 0 1 0 5.657 3.99 3.99 0 0 1-5.65 0zM16 32a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4 4 4 0 0 1 4-4h8a4 4 0 0 1 4 4zm32.973 11.314l5.65 5.66a3.99 3.99 0 0 1 0 5.65 3.992 3.992 0 0 1-5.65 0l-5.66-5.65a4 4 0 0 1 0-5.66 4 4 0 0 1 5.66 0z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 122 122",id:"avatar-default"}},[e("path",{attrs:{fill:"#DCDCDC","fill-rule":"evenodd",d:"M61 121.5c33.413 0 60.5-27.087 60.5-60.5S94.413.5 61 .5.5 27.587.5 61s27.087 60.5 60.5 60.5zm12.526-45.806c-.019 3.316-.108 6.052.237 9.825 3.286 8.749 18.816 9.407 28.468 17.891-1.833 1.998-6.768 6.788-15 10.848-7.02 3.463-16.838 6.416-24.831 6.416-17.366 0-32.764-7.149-42.919-17.264 9.713-8.407 25.49-9.173 28.769-17.891.345-3.773.258-6.509.24-9.825l-.004-.002c-1.903-.985-5.438-7.268-6.01-12.571-1.492-.12-3.843-1.561-4.534-7.247-.37-3.053 1.107-4.77 2.004-5.31-5.046-19.212 1.507-33.16 20.749-34.406 5.753 0 10.18 1.52 11.909 4.523 15.35 2.702 11.756 22.658 9.328 29.882.899.54 2.376 2.258 2.004 5.31-.689 5.687-3.042 7.127-4.534 7.248-.575 5.305-3.25 10.82-5.873 12.57l-.003.003zM61 120.5C28.14 120.5 1.5 93.86 1.5 61S28.14 1.5 61 1.5s59.5 26.64 59.5 59.5-26.64 59.5-59.5 59.5z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 655 1024",id:"mobile"}},[e("path",{attrs:{d:"M0 122.501v778.998C0 968.946 55.189 1024 123.268 1024h408.824c68.52 0 123.268-54.846 123.268-122.501V122.501C655.36 55.054 600.171 0 532.092 0H123.268C54.748 0 0 54.846 0 122.501zM327.68 942.08c-22.622 0-40.96-18.338-40.96-40.96s18.338-40.96 40.96-40.96 40.96 18.338 40.96 40.96-18.338 40.96-40.96 40.96zM81.92 163.84h491.52V819.2H81.92V163.84z"}})]),t._v(" "),e("symbol",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",id:"arrow-right"}},[e("path",{staticClass:"selected",attrs:{d:"M716.298 417.341l-.01.01L307.702 7.23l-94.295 94.649 408.591 410.117-408.591 410.137 94.295 94.639 502.891-504.76z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 48 48",id:"luckybag"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M24 0C10.7 0 0 10.7 0 24s10.7 24 24 24 24-10.7 24-24S37.3 0 24 0zm7.6 15H16.4c.1.1.1.2.1.4.4 2.5 3.3 4.3 7.1 4.4 2.4 0 4.8-.6 6.1-1.6.4-.3 1.1-.3 1.4.2.3.5.3 1.1-.2 1.4-1.6 1.3-4.3 2.1-7.1 2.1h-.5c-3.9-.2-7-2-8.3-4.6V32c0 .5.7 1 1.4 1h15.2c.8 0 1.4-.5 1.4-1V16c0-.5-.7-1-1.4-1zM35 32c0 1.7-1.5 3-3.4 3H16.4c-1.9 0-3.4-1.3-3.4-3V16c0-1.4 1-2.5 2.5-2.9h.2c.1-.1.3-.1.4-.1h15.5c1.9 0 3.4 1.3 3.4 3v16z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 48 48",id:"profile-coins"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M24 0C10.7 0 0 10.7 0 24s10.7 24 24 24 24-10.7 24-24S37.3 0 24 0zm-9 26.8v3.3c0 1.2 3.6 2.9 9 2.9s9-1.7 9-2.9v-3.3c-2.1 1.3-5.6 1.9-9 1.9-3.4.1-6.9-.6-9-1.9zM24 15c-5.8 0-9 1.8-9 2.8 0 1 3.2 2.8 9 2.8s9-1.8 9-2.8c0-1-3.2-2.8-9-2.8zm-9 5.6V24c0 .9 3.2 2.8 9 2.8s9-1.8 9-2.8v-3.4c-2.1 1.3-5.6 1.9-9 1.9-3.4 0-6.9-.6-9-1.9zM35 24v6.1c0 3.2-5.5 4.9-11 4.9s-11-1.7-11-4.9V17.8c0-3.1 5.5-4.8 11-4.8s11 1.6 11 4.8V24z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 16 16",id:"address"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{fill:"#FFF","fill-opacity":"0",d:"M0 0h16v16H0z"}}),e("path",{attrs:{fill:"#4AA5F0",d:"M8 2.667A2.667 2.667 0 1 1 8 8a2.667 2.667 0 0 1 0-5.333M2.273 6.509a5.48 5.48 0 0 1-.051-.732 5.778 5.778 0 1 1 11.556 0 5.54 5.54 0 0 1-.085.948 5.704 5.704 0 0 1-.258.999 6.565 6.565 0 0 1-.081.22c-.016.039-.03.078-.047.116C11.932 11.45 8 13.778 8 13.778S3.734 11.273 2.535 7.64a5.756 5.756 0 0 1-.262-1.132zm8.584 6.701c2.516.124 5.143.43 5.143 1.068 0 .901-5.233 1.138-8 1.138-2.768 0-8-.237-8-1.138 0-.639 2.627-.944 5.143-1.068 1.22 1.044 2.3 1.61 2.404 1.663.14.07.296.108.453.108.156 0 .314-.038.454-.109.104-.052 1.184-.618 2.403-1.662z"}})])]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 16 16",id:"point"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{fill:"#FFF","fill-opacity":"0",d:"M0 0h16v16H0z"}}),e("path",{attrs:{fill:"#94D94A",d:"M2.257.5h11.486a1 1 0 0 1 .998.936l.757 11.728a2 2 0 0 1-1.996 2.129H2.498a2 2 0 0 1-1.996-2.129L1.26 1.436A1 1 0 0 1 2.257.5zm9.658 3.782C11.82 6.452 10.14 8.18 7.95 8.18c-2.202 0-3.925-1.747-4.003-3.933a.594.594 0 0 1 .36-1.075.596.596 0 1 1 .25 1.14c.109 1.82 1.548 3.26 3.393 3.26 1.853 0 3.263-1.455 3.357-3.287a.595.595 0 0 1 .3-1.113.595.595 0 1 1 .307 1.11z"}})])]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 40 40",id:"commend"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{fill:"#FC7B53",d:"M21 12c-.167-.434-1-1-1-1-.275.437-.767.601-1 1v7H4v-6c0-.843.716-1.562 2-2h6c-1.49.06-2.84-.711-3-2 .06-1.814 1.949-4.528 5-4 2.552.733 4.541 2.943 6 5 1.6-2.094 3.778-4.58 7-5 2.23-.288 4.282 2.198 4 4-.208 1.276-1.582 2.06-3 2h6c1.173.437 1.89 1.156 2 2v6H21v-7zm-7-6c-1.123-.321-1.966.238-3 1 .097.68-.258 1.373 0 2 1.653 1.192 5.452 1.096 8 1-1.202-1.529-2.679-3.07-5-4zm16 3c.726-1.246-1.22-3.714-3-3-2.313 1.075-3.755 2.506-5 4 1.071 0 2.158.023 3 0 1.542-.075 3.965-.16 5-1zM19 36H8c-1.326-.255-2-.907-2-2V20h13v16zm13 0H21V20h13v14c-.47 1.53-1.124 1.745-2 2z"}})])]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 54 54",id:"service"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{stroke:"#4DA6F0","stroke-width":"3",d:"M48 28c0 11.598-9.402 21-21 21"}}),e("path",{attrs:{fill:"#4DA6F0",d:"M43 40.012v-18h2a9 9 0 0 1 9 9 9 9 0 0 1-9 9h-2zM10 40.012H9a9 9 0 0 1-9-9 9 9 0 0 1 9-9h1v18zM27 46a3 3 0 1 0 0 6 3 3 0 1 0 0-6"}}),e("path",{attrs:{fill:"#4DA6F0",d:"M43 24h6c0-12.426-9.574-23-22-23S4 11.574 4 24h6c0-9.098 7.902-17 17-17 9.097 0 16 7.902 16 17z"}})])]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 40 40",id:"download"}},[e("path",{attrs:{d:"M30 5H10c-2.8 0-5 2.2-5 5v20c0 2.8 2.2 5 5 5h20c2.8 0 5-2.2 5-5V10c0-2.8-2.2-5-5-5zm-3.9 22.7c-.1.2-.3.4-.6.5-4.3 2.8-10.1 1.6-13-2.8-2.8-4.3-1.6-10.2 2.8-13 4.3-2.8 10.2-1.6 13 2.8.2.2.3.5.4.8.1.2 0 .5-.2.7l-8.8 5.7c-.2.2-.6.1-.7-.2l-.5-.7c-.4-.6-.2-1.5.4-1.9l5.6-3.6c.2-.2.3-.5.2-.7l-.1-.1c-2.2-1.8-5.4-2.1-7.9-.4-3.1 2-4 6.1-2 9.2 2 3.1 6.1 4 9.2 2 .6-.4 1.3-.2 1.7.4l.3.7c.1.2.4.5.2.6zm3.1-4.4l-.9.6c-.2.2-.6.1-.7-.2L26.5 22c-.2-.2-.1-.6.2-.7l1.8-1.1c.2-.2.6-.1.7.2l.6.9c.3.6.1 1.5-.6 2z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 14 14",id:"search"}},[e("g",{attrs:{fill:"#999","fill-rule":"evenodd"}},[e("path",{attrs:{"fill-rule":"nonzero",d:"M5.5 9.5a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 1.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z"}}),e("rect",{attrs:{width:"1.5",height:"6",x:"9.904",y:"7.859",rx:".5",transform:"rotate(-45 10.654 10.859)"}})])])])])},staticRenderFns:[]},_=e("VU/8")({data:function(){return{}}},u,!1,function(t){e("/da7")},null,null).exports,f=e("NYxO"),p=e("Au9i"),v=e.n(p),m={name:"app",data:function(){return{location:{},showToolbarRouters:["/msite","/order","/discover","/profile"]}},mounted:function(){this.checkeEquipment(),this.checkRoute(this.$route.path),this.getLocation()},computed:l()({},Object(f.b)(["footerTabbar"])),watch:{$route:function(t,s){this.checkRoute(t.path)}},methods:{checkRoute:function(t){-1!==this.showToolbarRouters.indexOf(t)?this.$store.dispatch("footerTabbar",!0):this.$store.dispatch("footerTabbar")},getLocation:function(){var t=this;if(this.custom.hasServer){this.$ajax.get("/api/shopping/v1/cities/guess").then(function(s){t.location=s.data}).catch(function(t){console.error("/api/shopping/v1/cities/guess"+t)})}else{var s=new window.BMap.Geolocation;s.enableSDKLocation(),s.getCurrentPosition(function(e){t.getLocationCallback(e,s)})}},getLocationCallback:function(t,s){s.getStatus()===window.BMAP_STATUS_SUCCESS?(t.latitude=parseFloat(t.latitude),t.longitude=parseFloat(t.longitude),this.location=t):alert("failed"+s.getStatus())},checkeEquipment:function(){/Android|iPhone|SymbianOS|Windows Phone|iPad|iPod/i.test(navigator.userAgent)||Object(p.Toast)({message:"使用游览器的移动设备模式或者移动端浏览体验更好哦！",position:"middle",duration:5e3})}},components:{footerTabbar:h,svgSymbol:_}},g={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"wrapper",attrs:{id:"app"}},[s("svgSymbol"),this._v(" "),s("router-view",{attrs:{location:this.location}}),this._v(" "),this.footerTabbar?s("footerTabbar"):this._e()],1)},staticRenderFns:[]},C=e("VU/8")(m,g,!1,function(t){e("8S93")},"data-v-4d46b050",null).exports,b=e("/ocq"),w={data:function(){return{}},props:{title:{type:String,default:"模块标题"}}},x={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"module_title"},[this._v(this._s(this.title))])},staticRenderFns:[]},y=e("VU/8")(w,x,!1,function(t){e("KJ4V")},null,null).exports,k={data:function(){return{}},props:{rating:{type:Number,default:0}}},I={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"star"},[s("div",{staticClass:"rating_gray"},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#star-gray.cc081b9"}})])]),this._v(" "),s("div",{staticClass:"rating_actived",style:{width:20*this.rating+"%"}},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#star-actived.d4c54d1"}})])])])},staticRenderFns:[]},S=e("VU/8")(k,I,!1,function(t){e("8KUF")},null,null).exports,$={data:function(){return{}},computed:{fictitious_shop:function(){return 8-this.shopList.length>0?8-this.shopList.length:0}},props:{shopList:{type:Array,default:function(){return[]}}},methods:{analysismageHash:i,toggleActivie:function(t){"showAllActivities"in t?t.showAllActivities=!t.showAllActivities:o.default.set(t,"showAllActivities",!0)}},components:{star:S}},H={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"shop_list"},[e("ul",t._l(t.shopList,function(s,i){return e("router-link",{key:i,staticClass:"shop_container",attrs:{tag:"li",to:{path:"/shop",query:{id:s.id}},sort_index:i}},[e("div",{staticClass:"shop_info"},[e("div",{staticClass:"logo_container"},[e("div",{staticClass:"logo_main"},[e("img",{attrs:{src:t.analysismageHash(s.image_path,!0),alt:s.name}})]),t._v(" "),s.is_new?e("div",{staticClass:"new_shop"},[e("span",[t._v("新店")])]):t._e()]),t._v(" "),e("div",{staticClass:"shop_main"},[e("section",{staticClass:"shop_info_line"},[e("h3",{staticClass:"shop_name"},[s.is_premium?e("i",{staticClass:"premium",attrs:{content:"品牌"}},[t._v("品牌")]):t._e(),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(s.name))])]),t._v(" "),e("ul",{staticClass:"support_wrapper"},t._l(s.supports,function(t){return e("li",{attrs:{content:t.icon_name}})}))]),t._v(" "),e("section",{staticClass:"shop_info_line"},[e("div",{staticClass:"rate_wrap"},[e("div",{staticClass:"rating_wrapper"},[e("star",{attrs:{rating:s.rating}})],1),t._v(" "),e("span",{staticClass:"shop_rate"},[t._v(t._s(s.rating))]),t._v(" "),e("span",[t._v("月售"+t._s(s.recent_order_num)+"单")])]),t._v(" "),s.delivery_mode&&s.delivery_mode.text?e("div",{staticClass:"delivery_mode"},[e("div",{staticClass:"delivery_icon",attrs:{content:s.delivery_mode.text}},[t._v("\n                                "+t._s(s.delivery_mode.text)+"\n                            ")])]):t._e()]),t._v(" "),e("section",{staticClass:"shop_info_line"},[e("div",{staticClass:"moneylimit"},[e("span",{staticClass:"after_split"},[t._v("¥"+t._s(s.float_minimum_order_amount)+"起送")]),t._v(" "),e("span",[t._v("配送费¥"+t._s(s.float_delivery_fee))])]),t._v(" "),e("div",{staticClass:"timedistanceWrap"},[e("span",{staticClass:"after_split"},[t._v(t._s((s.distance/1e3).toFixed(2))+"km")]),t._v(" "),e("span",[t._v(t._s(s.order_lead_time)+"分钟")])])])])]),t._v(" "),e("div",{staticClass:"activity_wrap"},[s.recommend.image_hash&&s.recommend.reason?e("section",{staticClass:"tagLine"},[e("span",{staticClass:"sourceTag",style:{color:s.recommend.color}},[e("img",{attrs:{src:t.analysismageHash(s.recommend.image_hash)}}),t._v(" "),e("span",[t._v(t._s(s.recommend.reason))])])]):t._e(),t._v(" "),e("span",[e("svg",{staticClass:"dashedline"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#dashed-line.3732003"}})])]),t._v(" "),e("section",{staticClass:"activities"},[e("div",{staticClass:"activityList"},t._l(s.activities,function(i,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:a<(s.showAllActivities?s.activities.length:2),expression:"activitieIndex<(shop.showAllActivities?shop.activities.length:2)"}],staticClass:"actRow"},[e("div",{staticClass:"iconWrap"},[e("span",{staticClass:"icon",style:{backgroundColor:"#"+i.icon_color}},[t._v(t._s(i.icon_name))])]),t._v(" "),e("span",{staticClass:"desc"},[t._v(t._s(i.description))])])})),t._v(" "),e("div",{staticClass:"activityBtn",on:{touchend:function(e){e.stopPropagation(),t.toggleActivie(s)}}},[e("span",[t._v(t._s(s.activities.length)+"个活动")]),t._v(" "),e("svg",{class:{open:s.showAllActivities}},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#activity-more.c46fec1"}})])])])])])})),t._v(" "),t._l(t.fictitious_shop,function(t){return e("div",{staticClass:"fictitious_shop",staticStyle:{height:"303px"}})})],2)},staticRenderFns:[]},L=e("VU/8")($,H,!1,function(t){e("HL+C"),e("bBIC")},"data-v-a900ab6a",null).exports,E={data:function(){return{}},props:{isEnd:{type:Boolean,default:!1}}},T={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"loading_shop"},[this.isEnd?s("div",{staticClass:"option"},[s("span",[this._v("没有更多了哦~")])]):s("div",{staticClass:"option"},[s("svg",{staticClass:"LoadMore_icon"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#loading.001898b"}})]),this._v(" "),s("span",[this._v("正在加载...")])])])},staticRenderFns:[]},z=e("VU/8")(E,T,!1,function(t){e("zKDE")},"data-v-24b07f80",null).exports,M={data:function(){return{weather:{},foodEntrys:[],hotwords:[],locationInfo:{name:"定位中..."},newUserLink:{hash:"3c845b2ec2855ed55d90c45bf9b07abbpng",url:"/newuser/"},shopList:[],initScrollTop:0,seachFixed:!1,loading:!1,isEnd:!1}},props:{location:{type:Object,default:function(){return{}}}},computed:{weatherIcon:function(){return this.weather.image_hash?i(this.weather.image_hash,!0,69):"./static/img/weather.jpeg"}},mounted:function(){document.title="李留住高仿饿了么，仅为学习之用，如有侵权请联系我",this.initScrollTop=this.$refs.search_wrapper.offsetTop,document.addEventListener("scroll",this._listenCallback),this.getLoactonsAndWeather()},beforeDestroy:function(){document.removeEventListener("scroll",this._listenCallback)},watch:{location:function(){this.getLoactonsAndWeather()}},methods:{_listenCallback:function(){window.throttle2(this._scrollCallback)},analysismageHash:i,_scrollCallback:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.seachFixed=t>this.initScrollTop;this.$refs.shopList.$el.getBoundingClientRect().bottom<this.custom.availHeight&&this.loadMoreShop(this.shopList.length)},backTop:function(){window.pageYOffset&&(window.pageYOffset=0),document.documentElement.scrollTop&&(document.documentElement.scrollTop=0),document.body.scrollTop&&(document.body.scrollTop=0)},getLoactonsAndWeather:function(){var t=this;if(this.custom.hasServer){if(!this.location.longitude||!this.location.latitude)return!1;var s=this.location.longitude,e=this.location.latitude,i={requests:{foodEntryData:{method:"GET",url:"/shopping/openapi/entries?latitude="+e+"&longitude="+s+"&templates[]=main_template&templates[]=favourable_template"},hotwords:{method:"GET",url:"/shopping/v3/hot_search_words?latitude="+e+"&longitude="+s},weather:{method:"GET",url:"/bgs/weather/current?latitude="+e+"&longitude="+s}}};this.$ajax.post("/api/batch/v2",i).then(function(i){var a=i.data;200===a.weather.code&&(t.weather=JSON.parse(a.weather.body)),200===a.foodEntryData.code&&(t.foodEntrys=JSON.parse(a.foodEntryData.body)[0].entries),200===a.hotwords.code&&(t.hotwords=JSON.parse(a.hotwords.body));var o="/api/bgs/poi/reverse_geo_coding?latitude="+e+"&longitude="+s;return t.$ajax.get(o)}).then(function(s){t.locationInfo=s.data,t.loadMoreShop()}).catch(function(t){console.error("batch/v2",t)})}else{this.$ajax.get("./simulate_data/msite/batch.json").then(function(s){var e=s.data;200===e.weather.code&&(t.weather=JSON.parse(e.weather.body)),200===e.foodEntryData.code&&(t.foodEntrys=JSON.parse(e.foodEntryData.body)[0].entries),200===e.hotwords.code&&(t.hotwords=JSON.parse(e.hotwords.body));return t.$ajax.get("./simulate_data/msite/reverse_geo_coding.json")}).then(function(s){t.locationInfo=s.data,t.loadMoreShop()}).catch(function(t){console.error("reverse_geo_coding.json",t)})}},loadMoreShop:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if(this.loading||!this.location.longitude||!this.location.latitude)return!1;this.loading=!0;var i=this.location.longitude,a=this.location.latitude;if(this.custom.hasServer){var o="api/shopping/restaurants?latitude="+a+"&longitude="+i+"&offset="+s+"&limit="+e+"&extras[]=activities&extras[]=tags&extra_filters=home&terminal=h5";this.$ajax.get(o).then(function(s){t.shopList=t.shopList.concat(s.data),t.loading=!1}).catch(function(t){console.error("loadMoreShop",t)})}else{this.$ajax.get("./simulate_data/msite/init.json").then(function(s){t.shopList=t.shopList.concat(s.data),t.loading=!1}).catch(function(t){console.error("loadMoreShop.json",t)})}}},components:{moduleTitle:y,shopList:L,loadingShop:z}},F={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"msite"},[e("header",{staticClass:"header"},[e("div",{ref:"head_wrapper",staticClass:"head_wrapper"},[e("div",{staticClass:"head_info"},[e("section",{staticClass:"location_wrapper"},[e("i",{staticClass:"ele-icon-mapmarker"}),e("span",{staticClass:"location"},[t._v(t._s(t.locationInfo.name))]),e("i",{staticClass:"ele-icon-eject"})]),t._v(" "),e("aside",{staticClass:"weather"},[e("div",[e("h3",{staticClass:"temperature"},[t._v(t._s(t.weather.temperature)+"°")]),t._v(" "),e("p",{staticClass:"daylight"},[t._v(t._s(t.weather.description))])]),t._v(" "),e("img",{staticClass:"weather_icon",attrs:{src:t.weatherIcon,alt:"天气图标"}})])])]),t._v(" "),e("div",{ref:"search_wrapper",staticClass:"search_wrapper"},[e("div",{staticClass:"seach",style:{position:t.seachFixed?"fixed":"relative"}},[t._m(0)])]),t._v(" "),e("div",{staticClass:"keywords"},[e("div",{staticClass:"scroll_content"},t._l(t.hotwords,function(s,i){return e("a",{key:i,staticClass:"word",attrs:{href:"javascript:void(0);"}},[t._v(t._s(s.word))])}))])]),t._v(" "),e("section",{staticClass:"food_class"},[e("div",{staticClass:"food_entry"},[t.foodEntrys&&t.foodEntrys.length?e("mt-swipe",{attrs:{prevent:!0,stopPropagation:!0,auto:0}},t._l(Math.ceil(t.foodEntrys.length/8),function(s){return e("mt-swipe-item",{key:s},t._l(t.foodEntrys.slice(8*(s-1),8*s),function(s,i){return e("a",{staticClass:"entry_item",attrs:{href:"javascript:void(0);"}},[e("div",{staticClass:"container"},[e("img",{attrs:{src:t.analysismageHash(s.image_hash,!0,90)}})]),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(s.name))])])}))})):e("div",{staticClass:"swipe_back"})],1),t._v(" "),e("div",{staticClass:"new_user_activity"},[e("img",{attrs:{src:t.analysismageHash(t.newUserLink.hash,!0,710,178)}})]),t._v(" "),t._m(1)]),t._v(" "),e("module-title",{attrs:{title:"推荐商家"}}),t._v(" "),e("shopList",{ref:"shopList",attrs:{shopList:t.shopList}}),t._v(" "),e("loadingShop",{attrs:{isEnd:t.isEnd}}),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.seachFixed,expression:"seachFixed"}],staticClass:"backTo_wrapper",on:{click:t.backTop}},[e("svg",{staticClass:"backTop_icon"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#back-top.f9a58c0"}})])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"content",attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"ele-icon-search"}),s("span",[this._v("搜索商家、商品名称")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"activity-lego",attrs:{id:"activity-lego"}},[s("div",{staticClass:"activity-lego-1"}),this._v(" "),s("div",{staticClass:"activity-lego-2"})])}]},A=e("VU/8")(M,F,!1,function(t){e("zfQ8"),e("nK7R")},"data-v-2ecd0e74",null).exports,D={data:function(){return{}},props:{title:{type:String,default:"标题"},router:{type:String,default:""},callback:{type:Function,default:null},fixed:{type:Boolean,default:!0}}},j={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"elemeHeader_root"},[s("mt-header",{attrs:{fixed:this.fixed,title:this.title}},[this.router?s("router-link",{attrs:{slot:"left",to:this.router},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1):this._e(),this._v(" "),this.callback?s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:this.callback},slot:"left"}):this._e()],1)],1)},staticRenderFns:[]},B=e("VU/8")(D,j,!1,function(t){e("aDOn")},null,null).exports,R={data:function(){return{}},mounted:function(){document.title="我的订单"},methods:{back:function(){this.$router.back()}},components:{pageHeader:B}},V={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"order"},[s("pageHeader",{attrs:{title:"订单",callback:this.back}}),this._v(" "),this._m(0),this._v(" "),s("section",{staticClass:"orderbody"})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"NoDataTip-wrapper"},[s("img",{attrs:{src:e("rwr8")}}),this._v(" "),s("h3",[this._v("登录后查看外卖订单")]),this._v(" "),s("button",[this._v("\n            立即登录\n        ")])])}]},P=e("VU/8")(R,V,!1,function(t){e("FlY/")},null,null).exports,N={data:function(){return{}},props:{recommends:{type:Array,default:function(){return[]}}},methods:{analysismageHash:i}},U={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"recommendList"},[e("svg",{staticStyle:{position:"absolute",width:"0",height:"0"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("defs",[e("symbol",{attrs:{viewBox:"0 0 18 18",id:"shop"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M15 6.15a1.745 1.745 0 0 1-1.737 1.6h-.074a1.75 1.75 0 0 1-1.63-1.33.5.5 0 0 0-.487-.407h-.39a.495.495 0 0 0-.49.417 1.748 1.748 0 0 1-1.65 1.32H8.47c-.04 0-.052 0-.064-.002a.528.528 0 0 1-.058-.004l-.09-.01A1.748 1.748 0 0 1 6.802 6.41a.5.5 0 0 0-.487-.397h-.39c-.24 0-.44.17-.487.397a1.75 1.75 0 0 1-1.363 1.308L4 7.732a3.84 3.84 0 0 1-.08.01l-.065.005-.06.003H3.74A1.744 1.744 0 0 1 2 6.083V2h13v4.15zm-14.998.1H0a3.314 3.314 0 0 0 3.31 3.32c1.05 0 2.01-.23 2.615-.995.606.765 1.518.994 2.568.994s1.812-.367 2.418-1.132c.607.765 1.717 1.13 2.767 1.13a3.314 3.314 0 0 0 3.31-3.25.49.49 0 0 0 .013-.11V1.435A1.462 1.462 0 0 0 15.57 0H1.418A1.442 1.442 0 0 0 0 1.435v4.773c0 .015 0 .03.002.043zm14 10.75H3c-1.103 0-2-.9-2-2.006v-2.98a1 1 0 1 1 2 0v2.98L14.002 15 14 12a1 1 0 1 1 2 0v2.99c0 1.11-.896 2.01-1.998 2.01z"}})])])]),t._v(" "),t._l(t.recommends,function(s,i){return s.food?e("section",{staticClass:"recommend_item",attrs:{sort_index:i}},[e("img",{staticClass:"recommend_img",attrs:{src:t.analysismageHash(s.food.image_path,!0,345)}}),t._v(" "),e("div",{staticClass:"recommend_food"},[e("h4",{staticClass:"food_name"},[t._v(t._s(s.food.name))]),t._v(" "),e("div",{staticClass:"food_sell"},[t._v("月售"+t._s(s.food.month_sales)+"份　好评率"+t._s(s.food.satisfy_rate)+"%\n            ")])]),t._v(" "),e("div",{staticClass:"food_detail"},[e("div",{staticClass:"food_price"},[e("span",{staticClass:"price_now"},[e("i",[t._v("¥")]),e("span",[t._v(t._s(s.food.price))])]),t._v(" "),s.food.original_price?e("del",{staticClass:"price_old"},[e("i",[t._v("¥")]),e("span",[t._v(t._s(s.food.original_price))])]):t._e()]),t._v(" "),s.food.discount_activity?e("div",{staticClass:"support"},[e("span",[t._v(t._s(s.food.discount_activity))])]):t._e()]),t._v(" "),e("div",{staticClass:"recommend_shop"},[e("div",{staticClass:"shop_name"},[e("svg",[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#shop"}})]),t._v(" "),e("span",[t._v(t._s(s.food.restaurant_name))])])])]):t._e()})],2)},staticRenderFns:[]},O=e("VU/8")(N,U,!1,function(t){e("JGbu")},"data-v-7c56dd07",null).exports,q={activities:{discount:{title:"天天特价",sub_title:"特价商品，一网打尽",link:"/ranking/#type=special_food",foods:[],index:1,isHide:!0},ulike:{title:"为你推荐",sub_title:"你的口味，我都懂得",link:"/recommend/",foods:[],index:0,isHide:!1},gift:{id:950,itemId:951,title:"限时好礼",sub_title:"金币换豪礼",link:"/exchange/",index:3,isHide:!1},selected:{id:"2681",itemId:"2875",title:"每日精选",sub_title:"领券优惠 全场一元起包邮",link:"/discover/",index:4,isHide:!1},recommend:{id:"2681",itemId:"2875",title:"每日精选",sub_title:"领券优惠 全场一元起包邮",link:"/discover/",index:2,isHide:!0}},label:{1:{name:"附近的人",color:"#f94843",borderColor:"#fda4a2"}},selected_android:{link:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM",foods:[{title:"6瓶西班牙葡萄酒",price:79.9,image_hash:"0f42b6932859186d9bb6be77854e4821png",url:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM"},{title:"罗莱羽绒被",price:75,image_hash:"ef5c3e3dbd89973d76f998fc21064c4epng",url:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM"},{title:"VR虚拟现实眼镜",price:29.9,image_hash:"f8b231f91e8304f22397dcaa9b67b71dpng",url:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM"}]},selected_ios:{link:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM",foods:[{title:"6瓶西班牙葡萄酒",price:79.9,image_hash:"0f42b6932859186d9bb6be77854e4821png",url:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM"},{title:"罗莱羽绒被",price:75,image_hash:"ef5c3e3dbd89973d76f998fc21064c4epng",url:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM"},{title:"VR虚拟现实眼镜",price:29.9,image_hash:"f8b231f91e8304f22397dcaa9b67b71dpng",url:"https://m.maila88.com/mailaIndex?mailaAppKey=9oVNEvQA3z4ZtaeDKC5trM"}]},ulike_food_click_behavior:0},W={data:function(){return{parts:{},recommendation:{},suggest:[],crayfish:q}},props:{location:{type:Object,default:function(){return{}}}},mounted:function(){document.title="发现",this.getDiscover()},watch:{location:function(){this.getDiscover()}},methods:{analysismageHash:i,openWebWindow:a,back:function(){this.$router.back()},getDiscover:function(){var t=this;if(!this.location.longitude||!this.location.latitude)return!1;if(this.custom.hasServer){var s=this.location.latitude,e=this.location.longitude,i="/api/member/v1/discover?platform=1&block_index=0&latitude="+s+"&longitude="+e;this.$ajax.get(i).then(function(i){t.parts=i.data;var a="/api/shopping/v1/find/recommendation?offset=0&limit=6&latitude="+s+"&longitude="+e;return t.$ajax.get(a)}).then(function(s){t.recommendation=s.data;return t.$ajax.get("/api/member/gifts/suggest")}).then(function(s){t.suggest=s.data}).catch(function(t){console.error("discover",t)})}else{this.$ajax.get("./simulate_data/discover/parts.json").then(function(s){t.parts=s.data;return t.$ajax.get("./simulate_data/discover/recommendation.json")}).then(function(s){t.recommendation=s.data;return t.$ajax.get("./simulate_data/discover/suggest.json")}).then(function(s){t.suggest=s.data}).catch(function(t){console.error("discover",t)})}},judgePath:function(t){/http/gi.test(t)?window.location.href=t:this.$router.push(t)}},components:{pageHeader:B,recommendList:O}},K={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"discover"},[e("svg",{staticStyle:{position:"absolute",width:"0",height:"0"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("defs",[e("symbol",{attrs:{viewBox:"0 0 34 33",id:"nice"}},[e("g",{attrs:{fill:"#F12C2C","fill-rule":"evenodd"}},[e("path",{attrs:{d:"M19.1 10s.404-1.959.685-3.294l.068-.323a472.237 472.237 0 0 1 .83-3.832l.077-.352C21.016 1.036 20.194 0 19.01 0H14.49c-.625 0-1.284.377-1.606.915l-5.742 9.57L8 10H2.003A1.995 1.995 0 0 0 0 11.999V31C0 32.106.9 33 2.003 33h23c1.548 0 3.082-1.157 3.507-2.645l4.63-16.204C33.776 11.923 32.32 10 30 10H19.1zM18 12h12c.993 0 1.488.653 1.217 1.601l-4.63 16.205c-.18.629-.929 1.194-1.584 1.194h-23L2 11.999C2 11.996 8 12 8 12h.566l.291-.486 5.743-9.57c-.037.061-.028.056-.109.056h4.518c-.1 0-.22-.152-.202-.233l-.078.354a513.863 513.863 0 0 0-.832 3.848l-.069.325c-.284 1.349-.51 2.46-.657 3.255-.087.465-.146.818-.177 1.058a2.394 2.394 0 0 0-.026.41c.004.078.004.078.027.21.039.185.039.185.349.563.717.292.656.21.656.21z"}}),t._v(" "),e("path",{attrs:{d:"M7 10h2v22H7z"}})])]),t._v(" "),e("symbol",{attrs:{viewBox:"-4 3 30 30",id:"alarm"}},[e("g",{attrs:{id:"alarm_页面"}},[e("g",{attrs:{id:"alarm_发现页_新增天天特价_确认",transform:"translate(-31 -1587)"}},[e("g",{attrs:{id:"alarm_商品",transform:"translate(-2 1556)"}},[e("g",{attrs:{id:"alarm_Page-1"}},[e("path",{staticClass:"st0",attrs:{d:"M10 29.9c-7.2 0-13-5.8-13-13 0-2 .4-3.9 1.3-5.7C.5 6.7 5 3.9 10 3.9c7.2 0 13 5.8 13 13s-5.8 13-13 13zM.1 12.1C-.7 13.6-1 15.2-1 16.9c0 6.1 4.9 11 11 11s11-4.9 11-11-4.9-11-11-11c-4.3 0-8.1 2.3-9.9 6.2z",transform:"translate(34 32)"}}),t._v(" "),e("path",{staticClass:"st0",attrs:{d:"M-1 12.1c-1.8-.9-3-2.7-3-4.8C-4 4.4-1.6 2 1.3 2c2 0 3.8 1.1 4.7 2.8l-1.8 1C3.7 4.7 2.5 4 1.3 4-.5 4-2 5.5-2 7.3c0 1.3.7 2.4 1.8 3l-.8 1.8zM21 11.8l-1-1.7c1-.6 1.6-1.7 1.6-2.8 0-1.8-1.5-3.3-3.3-3.3-1.3 0-2.5.8-3.1 2l-1.8-.8c.8-2 2.8-3.3 4.9-3.3 2.9 0 5.3 2.4 5.3 5.3-.1 2-1 3.7-2.6 4.6zM14.3 20.2h-4.2c-.6 0-1-.4-1-1v-8.1c0-.6.4-1 1-1s1 .4 1 1v7.1h3.2c.6 0 1 .4 1 1s-.4 1-1 1zM-1.2 32c-.2 0-.5-.1-.7-.3-.4-.4-.4-1-.1-1.4l4-4.5c.4-.4 1-.4 1.4-.1.4.4.4 1 .1 1.4l-4 4.5c-.2.3-.4.4-.7.4zM21.5 32c-.3 0-.5-.1-.7-.3l-4-4.5c-.4-.4-.3-1 .1-1.4.4-.4 1-.3 1.4.1l4 4.5c.4.4.3 1-.1 1.4-.2.1-.4.2-.7.2z",transform:"translate(34 32)"}})])])])])]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 34 34",id:"recommend"}},[e("g",{attrs:{id:"recommend_XMLID_1_"}},[e("path",{staticClass:"st0",attrs:{id:"recommend_XMLID_9_",d:"M32.5 10.1c-.2-.5-.8-.7-1.3-.5-.5.2-.7.8-.5 1.3.9 1.9 1.3 4 1.3 6.1 0 8.3-6.7 15-15 15S2 25.3 2 17c0-2.7.7-5.2 2-7.4 1.1 0 2-.9 2-2 0-.2 0-.4-.1-.6C8.6 4 12.6 2 17 2c1.9 0 3.7.3 5.4 1 .5.2 1.1-.1 1.3-.6.2-.5-.1-1.1-.6-1.3-2-.7-4-1.1-6.1-1.1-5 0-9.5 2.2-12.6 5.6H4c-1.1 0-2 .9-2 2 0 .4.1.7.3 1C.8 11.1 0 13.9 0 17c0 9.4 7.6 17 17 17s17-7.6 17-17c0-2.4-.5-4.7-1.5-6.9z"}}),t._v(" "),e("circle",{staticClass:"st0",attrs:{id:"recommend_XMLID_10_",cx:"27.5",cy:"5.8",r:"1.5"}}),t._v(" "),e("path",{staticClass:"st0",attrs:{id:"recommend_XMLID_13_",d:"M12 24.3c.4 0 .8-.1 1.2-.3 1.1.6 2.4 1 3.8 1 4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8c0 .9.2 1.9.5 2.7-.3.5-.5 1-.5 1.6 0 1.7 1.3 3 3 3zM17 11c3.3 0 6 2.7 6 6s-2.7 6-6 6c-.8 0-1.6-.2-2.3-.5.2-.4.3-.8.3-1.2 0-1.7-1.3-3-3-3-.3 0-.6.1-.8.1-.1-.4-.2-.9-.2-1.4 0-3.3 2.7-6 6-6z"}})])]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 16 25",id:"tab_found_next_page"}},[e("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#CCC","stroke-linecap":"round","stroke-width":"3",d:"M2.127 2l10.87 10.582L2.291 23.11"}})])])]),t._v(" "),e("pageHeader",{attrs:{callback:t.back,title:"发现"}}),t._v(" "),e("section",{staticClass:"parts"},t._l(t.parts,function(s){return e("div",{staticClass:"entry",class:{list2:s.length%2==0&&!s[0].sub_pic_hash,list3:s.length%2==1&&!s[0].sub_pic_hash}},t._l(s,function(s){return e("a",{class:{"sub-pic-hash":s.sub_pic_hash},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.judgePath(s.content_url)}}},[s.sub_pic_hash?t._e():e("div",{staticClass:"content-wrapper"},[e("p",{staticClass:"title",style:{color:s.title_color}},[t._v(t._s(s.title))]),t._v(" "),e("p",{staticClass:"tips"},[t._v(t._s(s.subtitle))])]),t._v(" "),s.sub_pic_hash?e("img",{staticClass:"sub-pic",attrs:{src:t.analysismageHash(s.sub_pic_hash)}}):e("img",{staticClass:"icon",attrs:{src:t.analysismageHash(s.main_pic_hash)}})])}))})),t._v(" "),t.crayfish.activities.ulike.isHide?t._e():e("router-link",{attrs:{to:{path:"/recommend",query:{rank_id:t.recommendation.rank_id}},tag:"section"}},[e("div",{staticClass:"activity-header"},[e("span",{staticClass:"line left"}),t._v(" "),e("svg",{staticClass:"activity-icon"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#nice"}})]),t._v("\n            "+t._s(t.crayfish.activities.ulike.title)+"\n            "),e("span",{staticClass:"line right"}),t._v(" "),e("p",{staticClass:"activity-sub-title"},[t._v(t._s(t.crayfish.activities.ulike.sub_title))])]),t._v(" "),e("recommendList",{attrs:{recommends:t.recommendation.items}}),t._v(" "),e("p",{staticClass:"activity-more"},[t._v("查看更多\n            "),e("svg",{staticClass:"svg-next"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#tab_found_next_page"}})])])],1),t._v(" "),t.crayfish.activities.gift.isHide?t._e():e("section",{on:{touchend:function(s){t.$router.push("/exchange")}}},[e("div",{staticClass:"activity-header"},[e("span",{staticClass:"line left"}),t._v(" "),e("svg",{staticClass:"activity-icon"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#alarm"}})]),t._v("\n            "+t._s(t.crayfish.activities.gift.title)+"\n            "),e("span",{staticClass:"line right"}),t._v(" "),e("p",{staticClass:"activity-sub-title"},[t._v(t._s(t.crayfish.activities.gift.sub_title))])]),t._v(" "),e("div",{staticClass:"activity-body"},t._l(t.suggest,function(s){return e("a",{staticClass:"discover-food",attrs:{href:s.url},on:{touchend:function(s){if(!("button"in s)&&t._k(s.keyCode,"proevent",void 0,s.key))return null;s.stopPropagation()}}},[e("img",{attrs:{src:t.analysismageHash(s.image_hash)}}),t._v(" "),e("div",[e("p",{staticClass:"food-name zhu_ellipsis"},[t._v(t._s(s.title))]),t._v(" "),e("div",{staticClass:"food-info zhu_clearfix"},[e("div",{staticClass:"food-price"},[e("span",{staticClass:"price zhu_ellipsis"},[e("span",[t._v(t._s(s.points_required)+"金币")])]),t._v(" "),s.original_price?e("del",{staticClass:"original-price zhu_ellipsis"},[t._v("\n                                ¥"+t._s(s.original_price)+"\n                            ")]):t._e()])])]),t._v(" "),s.corner_marker?e("span",{staticClass:"discount"},[t._v(t._s(s.corner_marker))]):t._e()])})),t._v(" "),e("p",{staticClass:"activity-more"},[t._v("查看更多\n            "),e("svg",{staticClass:"svg-next"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#tab_found_next_page"}})])])]),t._v(" "),t.crayfish.activities.selected.isHide?t._e():e("section",{on:{touchend:function(s){t.openWebWindow(t.crayfish.selected_android.link)}}},[e("div",{staticClass:"activity-header"},[e("span",{staticClass:"line left"}),t._v(" "),e("svg",{staticClass:"activity-icon"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#recommend"}})]),t._v("\n            "+t._s(t.crayfish.activities.selected.title)+"\n            "),e("span",{staticClass:"line right"}),t._v(" "),e("p",{staticClass:"activity-sub-title"},[t._v(t._s(t.crayfish.activities.selected.sub_title))])]),t._v(" "),e("div",{staticClass:"activity-body"},t._l(t.crayfish.selected_android.foods,function(s){return e("a",{staticClass:"discover-food"},[e("img",{attrs:{src:t.analysismageHash(s.image_hash)}}),t._v(" "),e("div",[e("p",{staticClass:"food-name zhu_ellipsis"},[t._v(t._s(s.title))]),t._v(" "),e("div",{staticClass:"food-info zhu_clearfix"},[e("div",{staticClass:"food-price"},[e("span",{staticClass:"price zhu_ellipsis"},[e("span",[t._v("¥"+t._s(s.price))])]),t._v(" "),s.original_price?e("del",{staticClass:"original-price zhu_ellipsis"},[t._v("\n                                ¥"+t._s(s.original_price)+"\n                            ")]):t._e()])])]),t._v(" "),s.corner_marker?e("span",{staticClass:"discount"},[t._v(t._s(s.corner_marker))]):t._e()])})),t._v(" "),e("p",{staticClass:"activity-more"},[t._v("查看更多\n            "),e("svg",{staticClass:"svg-next"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#tab_found_next_page"}})])])])],1)},staticRenderFns:[]},Q=e("VU/8")(W,K,!1,function(t){e("AOSJ")},"data-v-0b376fae",null).exports,J={data:function(){return{}},mounted:function(){document.title="周边优惠"},methods:{back:function(){this.$router.back()}},components:{pageHeader:B}},Y={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"koubei"},[s("pageHeader",{attrs:{title:"周边优惠",callback:this.back}}),this._v(" "),this._m(0),this._v(" "),s("section",{staticClass:"orderbody"})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"NoDataTip-wrapper"},[s("img",{attrs:{src:e("mp2b")}}),this._v(" "),s("h3",[this._v("你还没有登录哦")]),this._v(" "),s("p",[this._v("登录后邀请好友可得奖励")]),this._v(" "),s("button",[this._v("\n            去登录\n        ")])])}]},G=e("VU/8")(J,Y,!1,function(t){e("u8WS")},null,null).exports,Z={data:function(){return{}},mounted:function(){document.title="我的"},methods:{back:function(){this.$router.back()}},components:{pageHeader:B}},X={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"profile"},[s("pageHeader",{attrs:{title:"我的",callback:this.back}}),this._v(" "),s("section",{staticClass:"profile_info"},[s("span",{staticClass:"profile_avatar"},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#avatar-default"}})])]),this._v(" "),s("div",{staticClass:"profile_login"},[s("h1",{staticClass:"title"},[this._v("登录/注册")]),this._v(" "),s("p",{staticClass:"alert"},[s("svg",{attrs:{fill:"#fff"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#mobile"}})]),this._v(" "),s("span",[this._v("登录后享受更多特权")])])]),this._v(" "),s("span",{staticClass:"to_login"},[s("svg",{attrs:{fill:"#fff"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])]),this._v(" "),s("div",{staticClass:"red_packets"},[s("a",{staticClass:"item_packets",attrs:{href:"javascript:;"}},[s("p",[s("svg",{attrs:{fill:"#ff5f3e"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#luckybag"}})])]),this._v(" "),s("p",{staticClass:"text"},[this._v("红包")])]),this._v(" "),s("a",{staticClass:"item_packets",attrs:{href:"javascript:;"}},[s("p",[s("svg",{attrs:{fill:"#6ac20b"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#profile-coins"}})])]),this._v(" "),s("p",{staticClass:"text"},[this._v("金币")])])]),this._v(" "),s("section",{staticClass:"profile_options"},[s("a",{staticClass:"option",attrs:{href:"javascript:;"}},[s("aside",{staticClass:"option_icon"},[s("svg",{attrs:{fill:"#4aa5f0"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#address"}})])]),this._v(" "),s("div",{staticClass:"option_text"},[this._v("\n                我的地址\n                "),s("span",{staticClass:"option_detail"},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])])])]),this._v(" "),s("section",{staticClass:"profile_options"},[s("a",{staticClass:"option",attrs:{href:"javascript:;"}},[s("aside",{staticClass:"option_icon"},[s("svg",{attrs:{fill:"#fc7b53"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#point"}})])]),this._v(" "),s("div",{staticClass:"option_text"},[this._v("\n                金币商城\n                "),s("span",{staticClass:"option_detail"},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])])]),this._v(" "),s("a",{staticClass:"option",attrs:{href:"javascript:;"}},[s("aside",{staticClass:"option_icon"},[s("svg",{attrs:{fill:""}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#commend"}})])]),this._v(" "),s("div",{staticClass:"option_text"},[this._v("\n                分享拿5元现金\n                "),s("span",{staticClass:"option_detail"},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])])])]),this._v(" "),s("section",{staticClass:"profile_options"},[s("a",{staticClass:"option",attrs:{href:"javascript:;"}},[s("aside",{staticClass:"option_icon"},[s("svg",{attrs:{fill:"#4aa5f0"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#service"}})])]),this._v(" "),s("div",{staticClass:"option_text"},[this._v("\n                我的客服\n                "),s("span",{staticClass:"option_detail"},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])])]),this._v(" "),s("a",{staticClass:"option",attrs:{href:"javascript:;"}},[s("aside",{staticClass:"option_icon"},[s("svg",{attrs:{fill:"#3cabff"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#download"}})])]),this._v(" "),s("div",{staticClass:"option_text"},[this._v("\n                下载饿了么APP\n                "),s("span",{staticClass:"option_detail"},[s("svg",[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])])])])],1)},staticRenderFns:[]},tt=e("VU/8")(Z,X,!1,function(t){e("wzLL")},"data-v-af0c0438",null).exports,st={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"background_loading"},[s("div",{staticClass:"loading_wrap"},[s("div",{staticClass:"loading_box"})])])}]},et=e("VU/8")({data:function(){return{}}},st,!1,function(t){e("xjIa")},"data-v-1a50b54b",null).exports,it={data:function(){return{recommends:[],loading:!1,isEnd:!1,rank_id:this.$route.query.rank_id}},props:{location:{type:Object,default:function(){return{}}}},watch:{location:function(){this.getRecommendAtion()}},mounted:function(){document.addEventListener("scroll",this.listenCallback),this.getRecommendAtion()},beforeDestroy:function(){document.removeEventListener("scroll",this.listenCallback)},methods:{listenCallback:function(){window.throttle2(this.scrollCallback)},scrollCallback:function(){this.$refs.recommendList.$el.getBoundingClientRect().bottom<this.custom.availHeight&&this.getRecommendAtion()},getRecommendAtion:function(){var t=this;if(this.loading||!this.location.longitude||!this.location.latitude||this.isEnd)return!1;if(this.loading=!0,this.custom.hasServer){var s=this.location.latitude,e=this.location.longitude,i="/api/shopping/v1/find/recommendation?offset="+this.recommends.length+"&rank_id="+this.rank_id+"&limit=20&latitude="+s+"&longitude="+e;this.$ajax.get(i).then(function(s){s.data.items.length<20&&(t.isEnd=!0),t.recommends=t.recommends.concat(s.data.items),t.loading=!1}).catch(function(t){console.error("recommendation",t)})}else{this.$ajax.get("./simulate_data/recommend/recommendation.json").then(function(s){t.recommends=t.recommends.concat(s.data.items),t.loading=!1}).catch(function(t){console.error("recommendation.json",t)})}},back:function(){this.$router.back()}},components:{pageHeader:B,recommendList:O,backgroundLoading:et,loadingShop:z}},at={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"recommend"},[this.recommends.length>0?s("div",{staticClass:"recommend_warp"},[s("pageHeader",{attrs:{callback:this.back,title:"为你推荐"}}),this._v(" "),s("recommendList",{ref:"recommendList",attrs:{recommends:this.recommends}}),this._v(" "),s("loadingShop",{attrs:{isEnd:this.isEnd}})],1):s("backgroundLoading")],1)},staticRenderFns:[]},ot=e("VU/8")(it,at,!1,function(t){e("H9qW")},null,null).exports,nt={data:function(){return{}},mounted:function(){a("https://home.m.duiba.com.cn/chome/index?from=login&spm=14695.1.1.1",!0)},components:{backgroundLoading:et}},rt={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"exchange"},[s("backgroundLoading")],1)},staticRenderFns:[]},ct=e("VU/8")(nt,rt,!1,function(t){e("un51")},null,null).exports,lt={data:function(){return{}},props:{noShop:{type:Boolean,default:!1}},methods:{}},dt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"no_shop_data_wrap"},[t.noShop?e("section",{staticClass:"no_shop_data"},[e("img",{attrs:{src:"//fuss10.elemecdn.com/f/18/9fb04779371b5b162b41032baf5f3gif.gif"}}),t._v(" "),e("h3",[t._v("餐厅不存在")]),t._v(" "),e("p",[t._v("请重试")]),t._v(" "),e("button",{on:{click:function(s){t.$router.go(0)}}},[t._v("重试")])]):e("section",{staticClass:"no_shop_data"},[e("img",{attrs:{src:"//fuss10.elemecdn.com/6/87/4efda8c6bf4734d39faf86fe190c3gif.gif"}}),t._v(" "),e("h3",[t._v("没有商品")]),t._v(" "),e("p",[t._v("该商家还没有上传商品")]),t._v(" "),e("router-link",{attrs:{to:"/",tag:"button"}},[t._v("返回首页")])],1)])},staticRenderFns:[]},ht=e("VU/8")(lt,dt,!1,function(t){e("JN5u")},"data-v-d85b096c",null).exports,ut={data:function(){return{state:!1,noticeTemplate:"欢迎光临，用餐高峰期请提前下单，谢谢。"}},props:{shopInfo:{type:Object,required:!0,default:function(){return{}}}},methods:{show:function(){this.state=!0},hide:function(){this.state=!1}}},_t={render:function(){var t=this.$createElement,s=this._self._c||t;return this.state?s("transition",{attrs:{name:"fade"}},[s("section",{staticClass:"brief_shop_info mask",on:{click:this.hide}},[s("div",{staticClass:"info_body",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[s("h2",{staticClass:"shop_name"},[this._v(this._s(this.shopInfo.name))]),this._v(" "),s("ul",{staticClass:"brief_list"},[s("li",{staticClass:"brief_item"},[s("h3",{staticClass:"item_value"},[this._v(this._s(this.shopInfo.rating))]),this._v(" "),s("p",{staticClass:"item_name"},[this._v("评分")])]),this._v(" "),s("li",{staticClass:"brief_item"},[s("h3",{staticClass:"item_value"},[this._v(this._s(this.shopInfo.recent_order_num)+"单")]),this._v(" "),s("p",{staticClass:"item_name"},[this._v("月售")])]),this._v(" "),s("li",{staticClass:"brief_item"},[s("h3",{staticClass:"item_value"},[this._v("\n                    "+this._s(this.shopInfo.delivery_mode&&this.shopInfo.delivery_mode.text))]),this._v(" "),s("p",{staticClass:"item_name"},[this._v("约"+this._s(this.shopInfo.order_lead_time)+"分钟")])]),this._v(" "),s("li",{staticClass:"brief_item"},[s("h3",{staticClass:"item_value"},[this._v(this._s(this.shopInfo.float_delivery_fee))]),this._v(" "),s("p",{staticClass:"item_name"},[this._v("配送费")])]),this._v(" "),s("li",{staticClass:"brief_item"},[s("h3",{staticClass:"item_value"},[this._v(this._s((this.shopInfo.distance/1e3).toFixed(1))+"km")]),this._v(" "),s("p",{staticClass:"item_name"},[this._v("距离")])])]),this._v(" "),s("h3",{staticClass:"notice_title"},[s("span",[this._v("公告")])]),this._v(" "),s("div",{staticClass:"notice_content"},[this._v(this._s(this.shopInfo.promotion_info||this.noticeTemplate))])]),this._v(" "),s("div",{staticClass:"close_brief"})])]):this._e()},staticRenderFns:[]},ft=e("VU/8")(ut,_t,!1,function(t){e("OzRs")},"data-v-ce2b4a0e",null).exports,pt={name:"",data:function(){return{state:!1}},props:{activities:{type:Array,required:!0,default:function(){return[]}}},methods:{hide:function(){this.state=!1},show:function(){this.state=!0}}},vt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"}},[t.state?e("section",{staticClass:"activity_sheet mask",on:{click:t.hide}},[e("div",{staticClass:"activity_body",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[e("h2",{staticClass:"activity_title"},[t._v("优惠活动")]),t._v(" "),e("ul",{staticClass:"activity_list"},t._l(t.activities,function(s){return e("li",{staticClass:"activity_item"},[e("span",{staticClass:"activity_icon",style:{backgroundColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(" "),e("span",{staticClass:"activity_desc"},[t._v(t._s(s.tips))])])})),t._v(" "),e("a",{staticClass:"close",attrs:{href:"javascript:void(0);"},on:{click:t.hide}})])]):t._e()])},staticRenderFns:[]},mt=e("VU/8")(pt,vt,!1,function(t){e("WYwU")},"data-v-52e5708c",null).exports,gt={name:"",data:function(){return{ID:this.$route.query.id,state:!1,hongbaos:[]}},props:{location:{type:Object,required:!0}},watch:{location:function(){this._getHongBaoInfo()}},mounted:function(){this._getHongBaoInfo()},methods:{afterLeave:function(){this.hongbaos=[]},afterEnter:function(){this._getHongBaoInfo()},hide:function(){this.state=!1},show:function(){this.state=!0},_getHongBaoInfo:function(){var t=this;if(!this.location.latitude||!this.location.longitude||!this.state)return!1;var s=this.location.latitude,e=this.location.longitude,i="/api/shopping/v1/restaurants/"+this.ID+"/exclusive_hongbao/detail?latitude="+s+"&longitude="+e+"&code="+Math.random(),a=this.custom.hasServer?i:"./simulate_data/shop/exclusiveHongbao.json";this.$ajax.get(a).then(function(s){t.hongbaos=s.data.sort(function(t,s){return s.condition_type-t.condition_type})}).catch(function(t){console.err("restaurants"+t)})}},components:{backgroundLoading:et}},Ct={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"},on:{"after-leave":t.afterLeave,"after-enter":t.afterEnter}},[t.state?e("section",{staticClass:"hongbao_sheet mask"},[e("div",{staticClass:"hongbao_body",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[e("h3",{staticClass:"hongbao_title"},[t._v("店铺专享红包")]),t._v(" "),e("a",{staticClass:"close",attrs:{href:"javascript:void(0);"},on:{click:t.hide}}),t._v(" "),t.hongbaos.length?e("ul",{staticClass:"hongbao_list"},[e("li",{staticClass:"hongbao_item"},[e("h4",{staticClass:"item_title"},[e("span",[t._v(t._s(1===t.hongbaos[0].condition_type?"超级会员特权":"可领红包"))])]),t._v(" "),t._l(t.hongbaos,function(s,i){return e("div",{staticClass:"hongbao_class"},[e("section",{staticClass:"hongbao_detail",class:{vip:1===s.condition_type}},[e("div",{staticClass:"detail_left"},[e("div",{staticClass:"amount"},[e("p",[e("span",[t._v(t._s(s.amount))])])]),t._v(" "),e("div",{staticClass:"hongbao_rule"},[e("h3",[s.condition_type?e("svg",[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#svip-icon"}})]):t._e(),t._v("\n                                        "+t._s(s.name)+"\n                                    ")]),t._v(" "),e("p",[t._v(t._s(s.description))])])]),t._v(" "),e("div",{staticClass:"detail_right"},[e("div",{staticClass:"operation"},[s.exchange_tips?e("p",[t._v(t._s(s.exchange_tips.text))]):t._e(),t._v(" "),e("a",{staticClass:"exchange",attrs:{href:"javascript:void(0);"}},[t._v(t._s(s.exchange_type?"兑换":"领取"))])])])])])})],2)]):e("backgroundLoading")],1)]):t._e()])},staticRenderFns:[]},bt=e("VU/8")(gt,Ct,!1,function(t){e("ZX5S")},"data-v-a9dbe29e",null).exports,wt={data:function(){return{noticeTemplate:"欢迎光临，用餐高峰期请提前下单，谢谢。"}},props:{shopInfo:{type:Object,required:!0},hongBao:{type:Array,required:!0},location:{type:Object,required:!0}},methods:{analysismageHash:i,analysismageHash2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=t,e="jpeg"===t.slice(-4)?t.slice(-4):t.slice(-3);return"https://fuss10.elemecdn.com/"+s.substr(0,1)+"/"+s.substr(1,2)+"/"+s.slice(3)+"."+e+"?imageMogr/format/webp/thumbnail/!40p/blur/50x40/"},back:function(){this.$router.back()}},components:{briefShopInfo:ft,activitySheet:mt,hongBaoSheet:bt}},xt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop_header"},[e("svg",{staticStyle:{position:"absolute",width:"0",height:"0"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("defs",[e("symbol",{attrs:{viewBox:"0 0 10 8",id:"svip-crown"}},[e("path",{attrs:{fill:"#F2DD7D","fill-rule":"evenodd",d:"M7.11 2.688L5.143.072a.177.177 0 0 0-.286 0L2.89 2.69a.709.709 0 0 1-.991.152L.286 1.662a.177.177 0 0 0-.253.044.193.193 0 0 0-.03.14L.97 7.505a.37.37 0 0 0 .287.302c1.261.259 6.238.259 7.48 0a.37.37 0 0 0 .285-.301l.975-5.67a.187.187 0 0 0-.147-.218.177.177 0 0 0-.137.032L8.104 2.838a.709.709 0 0 1-.994-.15z"}})]),t._v(" "),e("symbol",{attrs:{viewBox:"0 0 13 10",id:"svip-icon"}},[e("defs",[e("linearGradient",{attrs:{id:"svip-icon_a",x1:"100%",x2:"0%",y1:"50%",y2:"50%"}},[e("stop",{attrs:{offset:"0%","stop-color":"#FDBD05"}}),t._v(" "),e("stop",{attrs:{offset:"100%","stop-color":"#FFDB72"}})],1)],1),t._v(" "),e("path",{attrs:{fill:"url(#svip-icon_a)","fill-rule":"evenodd",d:"M9.354 3.36L6.894.09a.222.222 0 0 0-.357 0l-2.46 3.273a.886.886 0 0 1-1.24.19L.823 2.076a.222.222 0 0 0-.316.055.24.24 0 0 0-.038.177l1.21 7.07c.032.19.174.34.358.378 1.576.324 7.797.324 9.35.001a.462.462 0 0 0 .356-.377l1.219-7.088a.234.234 0 0 0-.183-.272.22.22 0 0 0-.172.04l-2.012 1.486a.886.886 0 0 1-1.241-.187z"}})])])]),t._v(" "),e("nav",{staticClass:"shop_lintel",style:{backgroundImage:"url("+t.analysismageHash2(t.shopInfo.image_path)+")"}},[e("i",{staticClass:"back ele-icon-arrow_lift",on:{touchend:t.back}})]),t._v(" "),e("div",{staticClass:"shop_info"},[e("img",{staticClass:"logo_icon",attrs:{src:t.analysismageHash(t.shopInfo.image_path,!0,130),alt:t.shopInfo.name}}),t._v(" "),e("div",{staticClass:"shop_desc",on:{click:function(){t.$refs.briefShopInfo.show()}}},[e("h2",{staticClass:"shop_name"},[t.shopInfo.is_premium?e("i",{staticClass:"brand"},[t._v("品牌")]):t._e(),t._v(" "),e("span",{staticClass:"name zhu_ellipsis"},[t._v(t._s(t.shopInfo.name))]),t._v(" "),e("i",{staticClass:"triangle"})]),t._v(" "),e("div",{staticClass:"other_info"},[e("span",[t._v(t._s(t.shopInfo.rating))]),t._v(" "),e("span",[t._v("月售"+t._s(t.shopInfo.recent_order_num)+"单")]),t._v(" "),e("span",[t._v(t._s(t.shopInfo.delivery_mode&&t.shopInfo.delivery_mode.text)+" 约"+t._s(t.shopInfo.order_lead_time)+"分钟")]),t._v(" "),e("span",[t._v("距离"+t._s((t.shopInfo.distance/1e3).toFixed(1))+"km")])]),t._v(" "),e("p",{staticClass:"shop_desc"},[t._v(t._s(t.shopInfo.promotion_info||t.noticeTemplate))])])]),t._v(" "),t.shopInfo.activities&&t.shopInfo.activities.length?e("div",{staticClass:"shop_activities",on:{click:function(){t.$refs.activitySheet.show()}}},[e("div",{staticClass:"activity_item"},[e("span",{staticClass:"activity_icon",style:{backgroundColor:"#"+t.shopInfo.activities[0].icon_color}},[t._v(t._s(t.shopInfo.activities[0].icon_name))]),t._v(" "),e("span",{staticClass:"activity_desc zhu_ellipsis"},[t._v(t._s(t.shopInfo.activities[0].description))])]),t._v(" "),e("div",{staticClass:"activities_count"},[t._v(t._s(t.shopInfo.activities.length)+"个优惠")])]):t._e(),t._v(" "),e("div",{staticClass:"hongbao"},t._l(t.hongBao,function(s){return e("a",{staticClass:"packet",class:{vip:1===s.type},on:{click:function(){t.$refs.hongBaoSheet.show()}}},[e("svg",[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#svip-icon"}})]),t._v(" "),e("p",{staticClass:"red_packets_type",domProps:{innerHTML:t._s(s.description.replace(s.value,"<span class='number'>"+s.value+"</span>"))}}),t._v(" "),e("button",[t._v("领取")])])})),t._v(" "),e("briefShopInfo",{ref:"briefShopInfo",attrs:{shopInfo:t.shopInfo}}),t._v(" "),e("activitySheet",{ref:"activitySheet",attrs:{activities:t.shopInfo.activities}}),t._v(" "),e("hongBaoSheet",{ref:"hongBaoSheet",attrs:{location:t.location}})],1)},staticRenderFns:[]},yt=e("VU/8")(wt,xt,!1,function(t){e("iq04"),e("4QCu")},"data-v-27daad16",null).exports,kt=e("woOf"),It=e.n(kt),St=new o.default,$t={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Ht=e("VU/8")(St,$t,!1,function(t){e("W2QD")},null,null).exports,Lt={data:function(){return{}},props:{food:{type:Object,default:function(){return null}},spec:{type:Object,default:function(){return null}},mode:{type:Number,default:function(){return!this.spec&&this.food.specfoods.length>1?1:this.spec||1===this.food.specfoods.length?0:null}}},mounted:function(){this.food&&this.spec?console.log("数据只能传入项"):this.food||this.spec||console.log("未传入必要数据")},computed:l()({foodCount:function(){if(this.spec)return this.spec.count;if(this.food){var t=0;return this.food.specfoods.forEach(function(s){t+=s.count||0}),t}return 0}},Object(f.b)(["shopStatus"])),methods:{selectFoodSpec:function(){if(1!==this.shopStatus)return!1;Ht.$emit("select_food_spec",this.food)},addCart:function(t){if(1!==this.shopStatus)return!1;var s=null;if(this.spec)s=this.spec;else{if(!this.food)return;s=this.food.specfoods[0]}s.count||0===s.count?s.count<s.stock?s.count++:alert("数量达到最大库存量"):o.default.set(s,"count",1),s.entities,Ht.$emit("cart_add_food",t.currentTarget)},decreaseCart:function(){var t=null;this.spec?(t=this.spec).count&&t.count--:this.food&&(t=this.food.specfoods[0],1===this.food.specfoods.length?t.count&&t.count--:1===this.foodCount?this.food.specfoods.forEach(function(t){t.count&&(t.count=0)}):Object(p.Toast)({message:"多规格商品只能到购物车删除",position:"middle",duration:5e3}))}}},Et={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"foodCountControl"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.foodCount>0,expression:"foodCount>0"}],staticClass:"cart-decrease",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.decreaseCart(s)}}},[e("i",{staticClass:"rotate ele-icon-remove_circle_outline",class:{disabled:1===t.mode&&t.foodCount>1}})])]),t._v(" "),e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.foodCount>0,expression:"foodCount>0"}],staticClass:"cart-count"},[e("span",{staticClass:"rotate"},[t._v(t._s(t.foodCount))])])]),t._v(" "),1===t.mode?e("a",{staticClass:"choice_add",class:{disabled:1!==t.shopStatus},on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.selectFoodSpec(s)}}},[e("span",{staticClass:"entityspecbutton"},[t._v("选规格")])]):0===t.mode?e("div",{staticClass:"cart-add",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.addCart(s)}}},[e("i",{staticClass:"ele-icon-add_circle",class:{disabled:1!==t.shopStatus}})]):t._e()],1)},staticRenderFns:[]},Tt=e("VU/8")(Lt,Et,!1,function(t){e("/TN/")},null,null).exports,zt={data:function(){return{}},props:{foodAttributes:Array,required:!0,default:function(){return[]},mode:{type:Number,default:0}},methods:{analysisAttributes:function(t){if(!t||!this.foodAttributes.length)return!1;for(var s=0,e=this.foodAttributes.length;s<e;s++)if(-1!==this.foodAttributes[s].icon_name.indexOf(t))return!0;return!1}},components:{icon:{template:'<span class="food_spicy_icon"></span>'}}},Mt={render:function(){var t=this.$createElement,s=this._self._c||t;return 1===this.mode&&this.analysisAttributes("辣")?s("span",{staticClass:"food_spicy_icon"}):0===this.mode&&this.analysisAttributes("招牌")?s("span",{staticClass:"attrTag-attrTag attr_ghost"},[this._v("\n招牌\n")]):0===this.mode&&this.analysisAttributes("新")?s("span",{staticClass:"attrTag-attrTag attr_new attr_new"},[this._v("\n新品\n")]):this._e()},staticRenderFns:[]},Ft=e("VU/8")(zt,Mt,!1,function(t){e("mccX")},null,null).exports,At={data:function(){return{}},props:{food:Object,required:!0,default:function(){return{}}},computed:{minPrice:function(){if(this.food.specfoods&&this.food.specfoods.length>0){var t=this.food.specfoods.map(function(t){return t.price});return Math.min.apply(Math,t)}return 0}},methods:{_getMinPrice:function(){var t=this.food.specfoods.map(function(t){return t.price});this.minPrice=Math.min.apply(Math,t)}}},Dt={render:function(){var t=this.$createElement,s=this._self._c||t;return s("strong",{staticClass:"food_price"},[s("span",{staticClass:"new_price"},[this._v(this._s(this.minPrice))]),this._v(" "),this.food.specfoods.length>1?s("span",{staticClass:"lowest_price"},[this._v("起")]):this.food.specfoods[0].original_price?s("del",{staticClass:"origin_price"},[this._v("\n        ¥"+this._s(this.food.specfoods[0].original_price)+"\n    ")]):this._e()])},staticRenderFns:[]},jt=e("VU/8")(At,Dt,!1,function(t){e("fnA4")},"data-v-3a20a61f",null).exports,Bt={data:function(){return{}},props:{food:{type:Object,required:!0,default:function(){return{}}},mode:{type:Number,default:0}},computed:{discount:function(){if(this.food.activity.benefit_text)return this.food.activity.benefit_text+(this.food.specfoods.length>1?"起":"");var t=(this.food.specfoods[0].price/this.food.specfoods[0].original_price*10).toFixed(1);return(t%1==0?Math.round(t):t)+"折"+(this.food.specfoods.length>1?"起":"")},promotionStock:function(){for(var t,s=this.food.specfoods,e=0,i=s.length;t<i;t++)s[t].promotion_stock>0&&(e+=s[t].promotion_stock);return e}}},Rt={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"food_activityRow"},[this.food.activity?s("span",{staticClass:"food_activity"},[s("span",{staticClass:"food_rate"},[this._v(this._s(this.discount))]),this._v(" "),s("span",{staticClass:"food_rate_text"},[this._v(this._s(this.mode?this.food.activity.applicable_quantity_detail_text:this.food.activity.applicable_quantity_text.split("，")[0]))])]):this._e(),this._v(" "),this.promotionStock>0&&this.promotionStock<10?s("span",{staticClass:"promotion_stock"},[this._v("\n        剩"+this._s(this.promotionStock)+"份\n    ")]):this._e()])},staticRenderFns:[]},Vt=e("VU/8")(Bt,Rt,!1,function(t){e("UDO5")},null,null).exports,Pt={data:function(){return{food:{},state:!1}},mounted:function(){Ht.$on("select_food_spec",this.hide)},beforeDestroy:function(){Ht.$off("select_food_spec",this.show)},methods:{analysismageHash:i,hide:function(){this.state=!1},show:function(t){t&&(this.food=t,this.state=!0)},touchStart:function(t){var s=this,e=t.touches[0].pageY,i=e,a=t.currentTarget,o=a.firstElementChild,n=function(t){var s=((i=t.touches[0].pageY)-e)/4;a.style.transform="translate3d(0,"+s+"px,0)",s>30?(o.style.opacity="1",o.innerHTML="释放关闭"):(o.style.opacity="0.706207",o.innerHTML="下拉关闭")};a.addEventListener("touchmove",n),a.addEventListener("touchend",function t(r){(i-e)/4>30&&s.hide(),a.removeEventListener("touchmove",n),a.removeEventListener("touchend",t),a.style.cssText="",o.style.cssText=""})}},components:{foodAttributes:Ft,foodPrice:jt,foodActivity:Vt,foodCountControl:Tt}},Nt={render:function(){var t=this.$createElement,s=this._self._c||t;return s("transition",{attrs:{name:"fade"}},[this.state?s("section",{staticClass:"food_detail mask",on:{click:this.hide}},[s("div",{staticClass:"foodpanel",on:{click:function(t){t.stopPropagation(),t.preventDefault()},touchstart:this.touchStart}},[s("div",{staticClass:"panelClose"},[this._v("下拉关闭")]),this._v(" "),s("div",{staticClass:"foodimg",class:{foodimg_shadow:this.food.description}},[s("img",{attrs:{src:this.analysismageHash(this.food.image_path,!0,750)}}),this._v(" "),s("p",{staticClass:"desc"},[this._v("\n                    "+this._s(this.food.description)+"\n                ")])]),this._v(" "),s("div",{staticClass:"food_info"},[s("div",{staticClass:"food_name"},[s("foodAttributes",{staticClass:"attrTag",attrs:{foodAttributes:this.food.attributes}}),this._v(" "),s("p",{staticClass:"name_content",attrs:{content:this.food.name}},[this._v(this._s(this.food.name))]),this._v(" "),s("foodAttributes",{staticClass:"attrTag1",attrs:{mode:1,foodAttributes:this.food.attributes}})],1),this._v(" "),s("div",{staticClass:"food_sales"},[this.food.month_sales?s("span",[this._v("月售"+this._s(this.food.month_sales)+"份")]):this._e(),this._v(" "),this.food.satisfy_rate?s("span",[this._v("好评率"+this._s(this.food.satisfy_rate)+"%")]):this._e()]),this._v(" "),s("foodActivity",{attrs:{mode:1,food:this.food}}),this._v(" "),s("foodPrice",{staticClass:"foodPrice",attrs:{food:this.food}}),this._v(" "),s("div",{staticClass:"cartButton"},[s("foodCountControl",{attrs:{food:this.food}})],1)],1)])]):this._e()])},staticRenderFns:[]},Ut=e("VU/8")(Pt,Nt,!1,function(t){e("Ch8W")},"data-v-32d24376",null).exports,Ot={data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0,animationClass:!0}},props:{selectFoods:{type:Array,default:function(){return[{price:10,count:0}]}},delivery_fee:{type:Number,default:20},minimum_order_amount:{type:Number,default:20}},mounted:function(){var t=this;Ht.$on("cart_add_food",this._drap),this.$nextTick(function(){var s=t.$refs.logo,e=s.getBoundingClientRect();t.logoPosition={x:e.left+s.offsetWidth/2,y:e.top+s.offsetWidth/2}})},beforeDestroy:function(){Ht.$off("cart_add_food",this._drap)},computed:l()({listShow:function(){if(!this.totalCount)return this.fold=!1,!1;return this.fold},totalPrice:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.price*s.count}),t%1==0?t:t.toFixed(1)},totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},payDesc:function(){if(0===this.totalPrice)return"<span>¥"+this.minimum_order_amount+"起送</span>";if(this.totalPrice<this.minimum_order_amount){var t=this.minimum_order_amount-this.totalPrice;return-1===String(t).search(/\./)?"<span>还差¥"+t+"起送</span>":"<small>还差¥"+t.toFixed(1)+"起送</small>"}return"<span>去结算</span>"}},Object(f.b)(["shopStatus"])),methods:{goPay:function(){if(1!==this.shopStatus)return!1;this.totalPrice>=this.minimum_order_amount&&alert("支付"+this.totalPrice+"元")},empty:function(){this.selectFoods.forEach(function(t){t.count=0})},toggleList:function(){this.totalCount>0&&(this.fold=!this.fold)},showFoodDetail:function(t){this.$refs.foodDetail.show(t)},_drap:function(t){var s=this;this.$nextTick(function(){for(var e=0;e<s.balls.length;e++){var i=s.balls[e];if(!i.show)return i.show=!0,i.el=t,s.dropBalls.push(i),0}})},_beforeEnter:function(t){for(var s=this.balls.length;s--;){var e=this.balls[s];if(e.show){var i=e.el.getBoundingClientRect(),a=e.el.offsetWidth/2,o=i.left+a-this.logoPosition.x,n=i.top+a-this.logoPosition.y;t.style.display="",t.style.webkitTransform="translate3d(0,"+n+"px,0)",t.style.transform="translate3d(0,"+n+"px,0)";var r=t.getElementsByClassName("inner-hook")[0];r.style.webkitTransform="translate3d("+o+"px,0,0)",r.style.transform="translate3d("+o+"px,0,0)"}}},_enter:function(t,s){this.$nextTick(function(){t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var e=t.getElementsByClassName("inner-hook")[0];e.style.webkitTransform="translate3d(0,0,0)",e.style.transform="translate3d(0,0,0)",t.addEventListener("transitionend",s)})},_afterEnter:function(t){var s=this.dropBalls.shift();s.show&&(t.style.display="none",s.show=!1),this.animationClass=!1},_afterLeave:function(t){this.animationClass=!0}},components:{foodCountControl:Tt,foodDetail:Ut}},qt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content",on:{click:t.toggleList}},[e("transition",{attrs:{type:"animation",name:"shake"},on:{"after-leave":t._afterLeave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.animationClass,expression:"animationClass"}],ref:"logo",staticClass:"logo",class:{empty:0===t.totalCount},attrs:{"attr-quantity":t.totalCount}})]),t._v(" "),e("div",{staticClass:"content-left"},[e("p",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("¥"+t._s(t.totalPrice))]),t._v(" "),e("p",{staticClass:"desc"},[t._v("配送费¥"+t._s(t.delivery_fee))])]),t._v(" "),e("a",{staticClass:"content-right",class:{disabled:0===t.totalPrice||t.totalPrice<t.minimum_order_amount||1!==t.shopStatus},domProps:{innerHTML:t._s(t.payDesc)},on:{click:function(s){if(!("button"in s)&&t._k(s.keyCode,"preven",void 0,s.key))return null;s.stopPropagation(),t.goPay(s)}}})],1),t._v(" "),e("foodDetail",{ref:"foodDetail"}),t._v(" "),e("transition-group",{staticClass:"ball-container",attrs:{name:"drap",tag:"div"},on:{"before-enter":t._beforeEnter,enter:t._enter,"after-enter":t._afterEnter}},t._l(t.balls,function(t,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"ball.show"}],key:s,staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])})),t._v(" "),e("transition",{attrs:{name:"fold"}},[t.listShow?e("div",{staticClass:"shopcart-list"},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[t._v("购物车")]),t._v(" "),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),t._v(" "),e("div",{ref:"listContent",staticClass:"list-content"},[e("ul",t._l(t.selectFoods,function(s){return e("li",{staticClass:"food"},[e("span",{staticClass:"entity_name"},[e("em",{staticClass:"specs_name zhu_ellipsis"},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"entity_specs",attrs:{title:"属性"}},[t._v(t._s(s.value))])]),t._v(" "),e("div",{staticClass:"price"},[e("del",{staticClass:"original_price"},[t._v("¥"+t._s(s.price*s.count))]),t._v(" "),e("span",{staticClass:"now_price"},[t._v(t._s(s.price*s.count))])]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("foodCountControl",{attrs:{spec:s}})],1)])}))])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"mask"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list-mask",on:{click:function(s){t.fold=!1}}})])],1)},staticRenderFns:[]},Wt=e("VU/8")(Ot,qt,!1,function(t){e("4ixO")},null,null).exports,Kt=e("Gu7T"),Qt=e.n(Kt),Jt={data:function(){return{food:{},state:!1,attrIndex:[],specificationIndex:0,resultSpecIndex:0,originPrice:null}},mounted:function(){Ht.$on("select_food_spec",this.show)},beforeDestroy:function(){Ht.$off("select_food_spec",this.show)},computed:{minPrice:function(){if(0===this.selectState){var t=this.food.specfoods.map(function(t){return t.price});return Math.min.apply(Math,t)}return this.originPrice=this.food.specfoods[this.resultSpecIndex].original_price,this.food.specfoods[this.resultSpecIndex].price},selectState:function(){if(this.attrIndex.every(function(t){return t>=0})&&this.specificationIndex>=0){var t=this.food.specifications[0]||{};if("规格"===t.name)for(var s=t.values[this.specificationIndex],e=0,i=this.food.specfoods.length;e<i;e++)for(var a=this.food.specfoods[e].specs,o=0,n=a.length;o<n;o++)if("规格"===a[o].name&&a[o].value===s)return this.resultSpecIndex=e,this.food.specfoods[e].stock>0?1:2;return 0}return 0}},methods:{hide:function(){this.state=!1},show:function(t){this.attrIndex=t.attrs.map(function(){return 0}),this.specificationIndex=0,this.food=t,this.state=!0},selectSpec:function(t,s){"规格"===s.name?t===this.specificationIndex?this.specificationIndex=-1:this.specificationIndex=t:"number"==typeof s&&(t===this.attrIndex[s]?this.attrIndex[s]=-1:this.attrIndex[s]=t,this.attrIndex=[].concat(Qt()(this.attrIndex)))},addCart:function(){if(1!==this.selectState)return!1;var t=this.food.specfoods[this.resultSpecIndex];t.count||0===t.count?t.count<t.stock?t.count++:alert("数量达到最大库存量"):o.default.set(t,"count",1),this.resultSpecIndex=0,this.hide()}}},Yt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"}},[t.state?e("div",{staticClass:"specpanel mask"},[t.state?e("div",{staticClass:"content panel_body"},[e("h1",[t._v(t._s(t.food.name))]),t._v(" "),e("div",{staticClass:"candidators"},[t._l(t.food.specifications,function(s,i){return t.food.specifications&&0===i?e("div",{staticClass:"candidators_group"},[e("h2",[t._v(t._s(s.name))]),t._v(" "),t._l(s.values,function(i,a){return e("a",{staticClass:"candidator",class:{selected:a===t.specificationIndex},on:{click:function(e){t.selectSpec(a,s)}}},[t._v(t._s(i))])})],2):t._e()}),t._v(" "),t._l(t.food.attrs,function(s,i){return t.food.attrs?e("div",{staticClass:"candidators_group"},[e("h2",[t._v(t._s(s.name))]),t._v(" "),t._l(s.values,function(s,a){return e("a",{staticClass:"candidator",class:{selected:a===t.attrIndex[i]},on:{click:function(s){t.selectSpec(a,i)}}},[t._v(t._s(s))])})],2):t._e()})],2),t._v(" "),e("div",{staticClass:"selected_result"},[e("strong",{staticClass:"food_price"},[e("span",{staticClass:"new_price"},[t._v(t._s(t.minPrice))]),t._v(" "),1!==t.selectState?e("span",{staticClass:"lowest_price"},[t._v("起")]):t.originPrice?e("del",{staticClass:"origin_price"},[t._v("\n                        ¥"+t._s(t.originPrice)+"\n                    ")]):t._e()]),t._v(" "),e("button",{staticClass:"cart_add",class:{disabled:1!==t.selectState},attrs:{type:"button"},on:{click:t.addCart}},[t._v("\n                    "+t._s(2===t.selectState?"已售完":"选好了")+"\n                ")])]),t._v(" "),e("a",{staticClass:"close",attrs:{href:"javascript:",role:"button","aria-label":"关闭"},on:{click:t.hide}})]):t._e()]):t._e()])},staticRenderFns:[]},Gt=e("VU/8")(Jt,Yt,!1,function(t){e("SLIc")},"data-v-73db2ba8",null).exports,Zt={data:function(){return{categoryHeight:[],scrollIng:!1,count:0}},props:{menu:{type:Array,required:!0,default:function(){return[]}},shopInfo:{type:Object,required:!0,default:function(){return{}}}},watch:{menu:function(){var t=this;this.$nextTick(function(){t._calculateHeight()})}},mounted:function(){var t=this;this.$nextTick(function(){t._calculateHeight()})},computed:{selectFoods:function(){var t=[];return this.menu.forEach(function(s){s.foods.forEach(function(s){s.specfoods.forEach(function(s){s.count&&t.push(s)})})}),t}},methods:{analysismageHash:i,_listenCallback:function(t){var s=this;window.throttle2(function(){s._scrollCallback(t)})},lookFoodDetail:function(t){this.$refs.shopcart.showFoodDetail(t)},_scrollCallback:function(t){var s=t.target.scrollTop;this.$emit("containerScroll",s,"index"),this.scrollIng||this._selectedMenuCategory(this._getMenuIndex(s))},analysismageHashMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=t,e="jpeg"===t.slice(-4)?t.slice(-4):t.slice(-3);return"https://fuss10.elemecdn.com/"+s.substr(0,1)+"/"+s.substr(1,2)+"/"+s.slice(3)+"."+e+"?imageMogr/format/webp/thumbnail/18x/"},currentCategory:function(t){var s=this;this._selectedMenuCategory(t),this.scrollerTo({scroller:this.$refs.menuview_menuList,to:this.categoryHeight[t],before:function(){s.scrollIng=!0},after:function(){s.scrollIng=!1}})},categoryQuantity:function(t){var s=0;return t.foods.forEach(function(t){t.specfoods.forEach(function(t){s+=t.count||0})}),s},_selectedMenuCategory:function(t){this.menu.forEach(function(s,e){s.is_selected=t===e})},_getMenuIndex:function(t){for(var s=0;s<this.categoryHeight.length;s++){var e=this.categoryHeight[s],i=this.categoryHeight[s+1];if(!i||t>=e&&t<i)return s}return 0},_calculateHeight:function(){this.categoryHeight=[];var t=this.$refs.menuview_menuList.getElementsByClassName("menu"),s=0;this.categoryHeight.push(s);for(var e=0;e<t.length;e++){s+=t[e].clientHeight,this.categoryHeight.push(s)}},scrollerTo:function(t){function s(){a<e.steps?(a++,c=setTimeout(function(){i+=r,e.scroller.scrollTop=i,s()},n)):(clearTimeout(c),a=0,e.after())}var e=It()({},{before:function(){},scroller:null,to:0,delay:300,steps:50,after:function(){}},t),i=e.scroller.scrollTop,a=0,o=e.to-i,n=e.delay/e.steps,r=o/e.steps,c=null;e.before(),s()}},components:{foodCountControl:Tt,shopcart:Wt,specpanel:Gt,foodAttributes:Ft,foodPrice:jt,foodActivity:Vt}},Xt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"menu_view"},[e("div",{staticClass:"main"},[e("ul",{staticClass:"menucategory_category scroller"},t._l(t.menu,function(s,i){return e("li",{class:{menucategory_active:s.is_selected},on:{click:function(s){t.currentCategory(i)}}},[t.categoryQuantity(s)?e("span",{staticClass:"category_quantity"},[t._v(t._s(t.categoryQuantity(s)))]):t._e(),t._v(" "),s.icon_url?e("img",{attrs:{src:t.analysismageHashMenu(s.icon_url)}}):t._e(),t._v(" "),e("span",[t._v(t._s(s.name))])])})),t._v(" "),e("section",{ref:"menuview_menuList",staticClass:"menuview_menuList scroller",on:{scroll:t._listenCallback}},t._l(t.menu,function(s,i){return e("dl",{key:i,staticClass:"menu"},[e("dt",{staticClass:"menu_category"},[e("strong",{staticClass:"category_name"},[t._v(t._s(s.name))]),t._v(" "),e("span",{staticClass:"category_desc zhu_ellipsis"},[t._v(t._s(s.description))])]),t._v(" "),t._l(s.foods,function(s){return e("dd",{staticClass:"food_item",on:{click:function(e){t.lookFoodDetail(s)}}},[e("div",{staticClass:"food_root"},[s.image_path?e("span",{staticClass:"food_logo"},[e("foodAttributes",{staticClass:"attrTag",attrs:{foodAttributes:s.attributes}}),t._v(" "),e("img",{attrs:{alt:s.name,src:t.analysismageHash(s.image_path,!0,140)}})],1):t._e(),t._v(" "),e("section",{staticClass:"food_info"},[e("p",{staticClass:"food_name"},[t._v(t._s(s.name)+"\n                                "),e("foodAttributes",{staticClass:"attrTag1",attrs:{mode:1,foodAttributes:s.attributes}})],1),t._v(" "),s.description?e("p",{staticClass:"food_desc"},[t._v(t._s(s.description))]):t._e(),t._v(" "),e("p",{staticClass:"food_sales"},[s.month_sales?e("span",[t._v("月售"+t._s(s.month_sales)+"份")]):t._e(),t._v(" "),s.satisfy_rate?e("span",[t._v("好评率"+t._s(s.satisfy_rate)+"%")]):t._e()]),t._v(" "),e("foodActivity",{attrs:{food:s}}),t._v(" "),e("foodPrice",{staticClass:"foodPrice",attrs:{food:s}}),t._v(" "),e("div",{staticClass:"food_count_control"},[e("foodCountControl",{attrs:{food:s}})],1)],1)])])})],2)}))]),t._v(" "),e("specpanel"),t._v(" "),e("footer",{staticClass:"cartview"},[e("shopcart",{ref:"shopcart",attrs:{delivery_fee:t.shopInfo.float_delivery_fee,minimum_order_amount:t.shopInfo.float_minimum_order_amount,selectFoods:t.selectFoods}})],1)],1)},staticRenderFns:[]},ts=e("VU/8")(Zt,Xt,!1,function(t){e("TGbD")},"data-v-6651c100",null).exports,ss={name:"",data:function(){return{bigImgInfo:!1,startStyle:{},showed:!1}},methods:{analysismageHash:i,enter:function(){var t=this;setTimeout(function(){t.showed=!0},10)},show:function(t,s){var e=t.target.getBoundingClientRect(),i=e.left+"px",a=e.top+"px";this.startStyle={left:i,top:a},this.bigImgInfo=s},hide:function(){this.bigImgInfo=!1,this.showed=!1}}},es={render:function(){var t=this.$createElement,s=this._self._c||t;return s("transition",{attrs:{name:"fade1"},on:{enter:this.enter}},[this.bigImgInfo?s("div",{staticClass:"mask",on:{click:this.hide}},[s("div",{staticClass:"img_wrap",class:{showed:this.showed},style:this.startStyle},[this.bigImgInfo.image_hash?s("img",{attrs:{src:this.analysismageHash(this.bigImgInfo.image_hash,!0,750)}}):this._e()]),this._v(" "),this.bigImgInfo.food_names?s("p",{staticClass:"buy_food"},[this._v(this._s(this.bigImgInfo.food_names.join(",")))]):this._e()]):this._e()])},staticRenderFns:[]},is={name:"",data:function(){return{ID:this.$route.query.id,scores:{},tags:[],ratingsClass:[],activeTag:0,rateLoading:!1}},mounted:function(){this._getShopScores()},methods:{analysismageHash:i,lookBigImg:function(t,s){this.$refs.bigImg.show(t,s)},_listenCallback:function(t){var s=this;window.throttle2(function(){s._scrollCallback(t)})},changeTag:function(t){this.activeTag=t,this.ratingsClass[t].length||this.getMoreRateings()},getMoreRateings:function(){var t=this;if(this.rateLoading)return!1;this.rateLoading=!0;var s="/api/ugc/v3/restaurants/"+this.ID+"/ratings?has_content=true&tag_name="+this.tags[this.activeTag].name+"&offset="+this.ratingsClass[this.activeTag].length+"&limit=8",e=this.custom.hasServer?s:"./simulate_data/shop/ratings.json";this.$ajax.get(e).then(function(s){var e=t.ratingsClass[t.activeTag].concat(s.data);o.default.set(t.ratingsClass,t.activeTag,e),t.rateLoading=!1}).catch(function(s){t.rateLoading=!1,console.error("tag_name"+s)})},_scrollCallback:function(t){var s=t.target.scrollTop;this.$emit("containerScroll",s,"rate");this.$refs.ratingList.getBoundingClientRect().bottom<=this.custom.availHeight+10&&this.getMoreRateings()},_getShopScores:function(){var t=this,s="/api/ugc/v2/restaurants/"+this.ID+"/ratings/scores",e=this.custom.hasServer?s:"./simulate_data/shop/scores.json";this.$ajax.get(e).then(function(s){t.scores=s.data;var e="/api/ugc/v2/restaurants/"+t.ID+"/ratings/tags",i=t.custom.hasServer?e:"./simulate_data/shop/tags.json";return t.$ajax.get(i)}).then(function(s){t.tags=s.data,t.tags.map(function(s,e){o.default.set(t.ratingsClass,e,[])}),t.getMoreRateings()}).catch(function(t){console.error("scores"+t)})}},components:{star:S,bigImg:e("VU/8")(ss,es,!1,function(t){e("rzFl")},"data-v-d8d3befe",null).exports}},as={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop_rate scroller",on:{scroll:t._listenCallback}},[e("section",{staticClass:"brief_rate"},[e("div",{staticClass:"brief_rate_left"},[t.scores.overall_score?e("strong",{staticClass:"score"},[t._v(t._s(t.scores.overall_score.toFixed(1)))]):t._e(),t._v(" "),e("p",{staticClass:"score_title"},[t._v("综合评价")]),t._v(" "),t.scores.compare_rating?e("p",{staticClass:"score_desc"},[t._v("高于周边商家"+t._s((100*t.scores.compare_rating).toFixed(1))+"%")]):t._e()]),t._v(" "),e("ul",{staticClass:"brief_rate_right"},[e("li",{staticClass:"rate_item"},[e("span",{staticClass:"item_title"},[t._v("服务态度")]),t._v(" "),e("span",{staticClass:"item_content"},[e("star",{attrs:{rating:t.scores.service_score}}),t.scores.service_score?e("span",{staticClass:"item_score"},[t._v(t._s(t.scores.service_score.toFixed(1)))]):t._e()],1)]),t._v(" "),e("li",{staticClass:"rate_item"},[e("span",{staticClass:"item_title"},[t._v("菜品评价")]),t._v(" "),e("span",{staticClass:"item_content"},[e("star",{attrs:{rating:t.scores.food_score}}),t.scores.food_score?e("span",{staticClass:"item_score"},[t._v(t._s(t.scores.food_score.toFixed(1)))]):t._e()],1)]),t._v(" "),e("li",{staticClass:"rate_item"},[e("span",{staticClass:"item_title"},[t._v("送达时间")]),t._v(" "),e("span",{staticClass:"item_content"},[t._v("\n                    "+t._s(t.scores.deliver_time)+"分钟\n                ")])])])]),t._v(" "),e("section",{staticClass:"rate_wrapper"},[t.tags?e("div",{staticClass:"tag_wrap"},[e("ul",{staticClass:"tag_list"},t._l(t.tags,function(s,i){return e("li",{staticClass:"tag_item",class:{unsatisfied:s.unsatisfied,active:i===t.activeTag},on:{click:function(s){t.changeTag(i)}}},[t._v("\n                    "+t._s(s.name)+"("+t._s(s.count)+")\n                ")])}))]):t._e(),t._v(" "),e("ul",{ref:"ratingList",staticClass:"rating_list"},t._l(t.ratingsClass[t.activeTag],function(s){return e("li",{staticClass:"rating_item"},[e("div",{staticClass:"rating_content"},[e("img",{staticClass:"avatar",attrs:{src:t.analysismageHash(s.avatar||"cf5d0b0f2fc83f3ac3e4a0cfae891256png",!0,60)}}),t._v(" "),e("div",{staticClass:"comment_block"},[e("h3",{staticClass:"user_name"},[t._v(t._s(s.username))]),t._v(" "),e("small",{staticClass:"order_time"},[t._v(t._s(s.rated_at))])]),t._v(" "),e("div",[e("star",{attrs:{rating:s.rating}}),t._v(" "),e("span",{staticClass:"comment_inline"},[t._v(t._s(s.time_spent_desc))])],1),t._v(" "),s.rating_text?e("a",{staticClass:"comment_msg"},[t._v(t._s(s.rating_text))]):t._e(),t._v(" "),e("ul",{staticClass:"img_list"},t._l(s.order_images,function(s){return e("li",[e("img",{attrs:{src:t.analysismageHash(s.image_hash,!0,142),alt:s.food_names},on:{click:function(e){t.lookBigImg(e,s)}}})])})),t._v(" "),e("ul",{staticClass:"food_list"},t._l(s.food_ratings,function(s){return e("li",[t._v(t._s(s.rate_name))])}))])])}))]),t._v(" "),e("bigImg",{ref:"bigImg"})],1)},staticRenderFns:[]},os=e("VU/8")(is,as,!1,function(t){e("ta84")},"data-v-f1f7ba5e",null).exports,ns={name:"",data:function(){return{}},props:{shopInfo:{type:Object,required:!0,default:function(){return{}}}},methods:{analysismageHash:i,_listenCallback:function(t){var s=this;window.throttle2(function(){s._scrollCallback(t)})},_scrollCallback:function(t){var s=t.target.scrollTop;this.$emit("containerScroll",s,"detail")}}},rs={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"shop_detail scroller",on:{scroll:t._listenCallback}},[e("div",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("配送信息")]),t._v(" "),e("div",{staticClass:"delivery body"},[e("div",[1===t.shopInfo.delivery_mode.id?e("span",{staticClass:"delivery_type"},[t._v(t._s(t.shopInfo.delivery_mode.text))]):2===t.shopInfo.delivery_mode.id?e("span",[t._v("由"+t._s(t.shopInfo.delivery_mode.text)+"提供配送,")]):t._e(),t._v(" "),e("span",[t._v("约"+t._s(t.shopInfo.order_lead_time)+"分钟送达，距离"+t._s((t.shopInfo.distance/1e3).toFixed(1))+"km")])]),t._v(" "),e("div",[t._v("配送费￥"+t._s(t.shopInfo.float_delivery_fee))])])]),t._v(" "),t.shopInfo.activities.length?e("div",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("活动与服务")]),t._v(" "),e("ul",{staticClass:"activity body"},[t._l(t.shopInfo.activities,function(s){return e("li",{staticClass:"activity_item"},[e("span",{staticClass:"activity_icon",style:{backgroundColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(" "),e("span",{staticClass:"activity_desc"},[t._v(t._s(s.description))])])}),t._v(" "),t._l(t.shopInfo.supports,function(s){return e("li",{staticClass:"support_item activity_item"},[e("span",{staticClass:"activity_icon",style:{color:"#"+s.icon_color,borderColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(" "),e("span",{staticClass:"activity_desc"},[t._v(t._s(s.description))])])})],2)]):t._e(),t._v(" "),t.shopInfo.albums&&t.shopInfo.albums.length?e("div",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("商家实景")]),t._v(" "),e("ul",{staticClass:"album body"},t._l(t.shopInfo.albums,function(s){return e("li",{staticClass:"album_item"},[e("img",{attrs:{src:t.analysismageHash(s.cover_image_hash,!0,200)}}),t._v(" "),e("span",{staticClass:"album_title"},[t._v(t._s(s.name)+"("+t._s(s.count)+"张)")])])}))]):t._e(),t._v(" "),e("div",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("商家信息")]),t._v(" "),e("ul",{staticClass:"detail"},[e("li",{staticClass:"detail_item"},[t._v(t._s(t.shopInfo.description||"暂无简介"))]),t._v(" "),t.shopInfo.phone?e("li",{staticClass:"detail_item"},[e("span",[t._v("商家电话")]),t._v(" "),e("span",[e("a",{attrs:{href:"tel:"+t.shopInfo.phone.split(" ")[0]}},[t._v(t._s(t.shopInfo.phone.split(" ")[0]))]),e("svg",{staticClass:"arrow-right"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])]):t._e(),t._v(" "),t.shopInfo.address?e("li",{staticClass:"detail_item"},[e("span",[t._v("地址")]),e("span",[t._v(t._s(t.shopInfo.address))])]):t._e(),t._v(" "),e("li",{staticClass:"detail_item"},[e("span",[t._v("营业时间")]),t._v(" "),e("span",[t._v("\n                     "),t._l(t.shopInfo.opening_hours,function(s){return t.shopInfo.opening_hours.length?e("span",[t._v(t._s(s.replace("/","-")))]):t._e()})],2)])])]),t._v(" "),e("div",{staticClass:"section"},[e("a",{staticClass:"section-title certification",attrs:{href:"https://h5.ele.me/shop/certification/#/?restaurant_id="+t.shopInfo.authentic_id+"&realId="+t.shopInfo.id}},[t._v("\n            营业资质\n            "),e("svg",{staticClass:"arrow-right"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])])])},staticRenderFns:[]},cs=e("VU/8")(ns,rs,!1,function(t){e("5Nt9")},"data-v-423ab412",null).exports,ls={data:function(){return{tabbars:[{name:"点餐"},{name:"评价"},{name:"商家"}],tabbarIndex:0,ID:this.$route.query.id,shopInfo:{},hongBao:[],contentHeight:50,showBackground:!0,noShop:!1,menu:[],deliveryRange:{}}},props:{location:{type:Object,required:!0,default:function(){return{}}}},watch:{location:function(){this.getShopInfoById()},showBackground:function(t,s){t||(document.title=this.shopInfo.name,this.initShop())},deliveryRange:function(t,s){this.initShopStatus()}},mounted:function(){this.getShopInfoById()},methods:{initShop:function(){var t=this;this.$nextTick(function(){t.contentHeight=t.custom.availHeight-(t.$refs.shopTab&&t.$refs.shopTab.offsetHeight);var s=t.$refs.shopHeader.$el.offsetHeight,e={index:0,rate:0,detail:0},i=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"index";(t.$refs.shopInfoWrap.scrollTop<s||i<s)&&(t.$refs.shopInfoWrap.scrollTop+=i-e[a],e[a]=i)};t.$refs.menuView.$on("containerScroll",i),t.$refs.shopRate.$on("containerScroll",i),t.$refs.shopDetail.$on("containerScroll",i)})},getShopInfoById:function(){var t=this;if(!this.location.latitude||!this.location.longitude)return!1;var s=this.location.latitude,e=this.location.longitude,i="/api/shopping/v2/menu?restaurant_id="+this.ID,a=this.custom.hasServer?i:"./simulate_data/shop/menu.json";this.$ajax.get(a).then(function(i){t.menu=i.data;var a="/api/shopping/v1/restaurants/"+t.ID+"/exclusive_hongbao/overview?latitude="+s+"&longitude="+e+"&code="+Math.random(),o=t.custom.hasServer?a:"./simulate_data/shop/hongbao.json";return t.$ajax.get(o)}).then(function(i){t.hongBao=i.data.sort(function(t,s){return s.type-t.type});var a="/api/shopping/restaurant/"+t.ID+"?extras[]=activities&extras[]=albums&extras[]=license&extras[]=identification&extras[]=qualification&terminal=h5&latitude="+s+"&longitude="+e,o=t.custom.hasServer?a:"./simulate_data/shop/shopInfo.json";return t.$ajax.get(o)}).then(function(i){t.shopInfo=i.data,t.noShop=!1,t.showBackground=!1;var a="/api/shopping/v1/restaurant/"+t.ID+"/delivery?latitude="+s+"&longitude="+e,o=t.custom.hasServer?a:"./simulate_data/shop/delivery.json";return t.$ajax.get(o)}).then(function(s){t.deliveryRange=s.data}).catch(function(s){t.noShop=!0,t.showBackground=!1,console.error("shopId"+s)})},initShopStatus:function(){var t=this.shopInfo.status||0;1===t&&(this.deliveryRange.within_delivery_range||(t=10)),this.$store.dispatch("shopStatus",t)}},components:{shopHeader:yt,noShopData:ht,menuView:ts,shopRate:os,shopDetail:cs}},ds={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"shop"},[t.showBackground?e("div",{staticClass:"background"}):e("div",{staticClass:"container"},[0===t.menu.length?e("noShopData",{attrs:{noShop:t.noShop}}):e("div",{ref:"shopInfoWrap",staticClass:"shop_info_wrap scroller"},[e("shopHeader",{ref:"shopHeader",attrs:{shopInfo:t.shopInfo,location:t.location,hongBao:t.hongBao}}),t._v(" "),e("div",{ref:"shopTab",staticClass:"shop_tab"},t._l(t.tabbars,function(s,i){return e("a",{staticClass:"shop_tab_item",class:{shop_tab_active:t.tabbarIndex===i},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.tabbarIndex=i}}},[e("span",[t._v(t._s(s.name))])])})),t._v(" "),e("div",{staticClass:"tab_contend",style:{height:t.contentHeight+"px"}},[e("menuView",{directives:[{name:"show",rawName:"v-show",value:0===t.tabbarIndex,expression:"tabbarIndex===0"}],ref:"menuView",attrs:{shopInfo:t.shopInfo,menu:t.menu}}),t._v(" "),e("shopRate",{directives:[{name:"show",rawName:"v-show",value:1===t.tabbarIndex,expression:"tabbarIndex===1"}],ref:"shopRate"}),t._v(" "),e("shopDetail",{directives:[{name:"show",rawName:"v-show",value:2===t.tabbarIndex,expression:"tabbarIndex===2"}],ref:"shopDetail",attrs:{shopInfo:t.shopInfo}})],1)],1)],1)])},staticRenderFns:[]},hs=e("VU/8")(ls,ds,!1,function(t){e("SvSA"),e("2+05")},"data-v-5d3107d0",null).exports;o.default.use(b.a);var us=new b.a({routes:[{path:"/msite",name:"msite",component:A},{path:"/order",name:"order",component:P},{path:"/discover",name:"discover",component:Q},{path:"/discover/koubei",name:"koubei",component:G},{path:"/profile",name:"profile",component:tt},{path:"/recommend",name:"recommend",component:ot},{path:"/exchange",name:"exchange",component:ct},{path:"/shop",name:"shop",component:hs},{path:"*",redirect:"/msite"}]});o.default.use(f.a);var _s={footerTabbar:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.footerTabbar=s},showFooterTabbar:function(t){t.footerTabbar=!0},hideFooterTabbar:function(t){t.footerTabbar=!1},shopStatus:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.shopStatus=s}},fs=new f.a.Store({state:{footerTabbar:!0,shopStatus:0},actions:{footerTabbar:function(t,s){(0,t.commit)("footerTabbar",s)},showFooterTabbar:function(t){(0,t.commit)("showFooterTabbar")},hideFooterTabbar:function(t){(0,t.commit)("hideFooterTabbar")},shopStatus:function(t,s){(0,t.commit)("shopStatus",s)}},mutations:_s,getters:{footerTabbar:function(t){return t.footerTabbar},shopStatus:function(t){return t.shopStatus}}});e("dNpK"),e("d8/S");o.default.use(v.a),o.default.config.productionTip=!1,o.default.prototype.$ajax=r.a,o.default.prototype.custom={hasServer:!1,availHeight:window.innerHeight||document.documentElement.clientHeight||document.body.offsetHeight};new o.default({el:"#app",router:us,store:fs,template:"<App/>",components:{App:C}})},OzRs:function(t,s){},SLIc:function(t,s){},SvSA:function(t,s){},TGbD:function(t,s){},UDO5:function(t,s){},W2QD:function(t,s){},WYwU:function(t,s){},YwD4:function(t,s){},ZX5S:function(t,s){},aDOn:function(t,s){},bBIC:function(t,s){},"d8/S":function(t,s){},dNpK:function(t,s){},fnA4:function(t,s){},iq04:function(t,s){},mccX:function(t,s){},mp2b:function(t,s,e){t.exports=e.p+"static/img/not_logo.2508019.gif"},nK7R:function(t,s){},rwr8:function(t,s,e){t.exports=e.p+"static/img/not_logo.f189fb0.gif"},rzFl:function(t,s){},ta84:function(t,s){},u8WS:function(t,s){},un51:function(t,s){},wzLL:function(t,s){},xCHz:function(t,s){},xjIa:function(t,s){},zKDE:function(t,s){},zfQ8:function(t,s){}},["NHnr"]);